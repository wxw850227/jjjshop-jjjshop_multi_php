import{_ as e,A as a,z as t,B as s,N as l,a as d,o as i,c,w as r,n as u,f as o,h as n,d as _,e as p,t as f,R as y,g as m,r as v,F as k,k as g,i as h,j as x,a6 as T,I as b,a3 as P,P as S,a7 as z,l as R}from"./index-73db7405.js";import{P as A}from"./uni-popup.a3ada4d4.js";import{p as C}from"./pay.2338ad0e.js";import{M as U}from"./Mpservice.7c7abc39.js";const D=e({data:()=>({loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,isPayPopup:!1,order_id:0,detail:{order_status:[],address:{region:[]},product:[],pay_type:[],delivery_type:[],pay_status:[]},extractStore:{},source:"user",service_open:0,service_type:10,isMpservice:!1,showAlipay:!1,user_id:0,expressList:[],express_id:"",express_name:"",express_no:"",status:1,cancel_refuse:"",pay_type:10}),components:{Popup:A,Mpservice:U},onLoad(e){this.order_id=e.order_id,this.user_id=a("user_id"),e.source&&(this.source=e.source)},mounted(){t({title:"加载中"}),this.getData()},methods:{getData(){let e=this,a=e.order_id,t="user.order/detail";"supplier"==this.source&&(t="supplier.order/detail"),e.loadding=!0,e._get(t,{order_id:a,pay_source:e.getPlatform()},(function(a){e.expressList=a.data.expressList,e.detail=a.data.order,e.extractStore=a.data.order.extractStore,e.service_open=a.data.setting.service_open,null==a.data.setting.mp_service?e.service_type=10:e.service_type=a.data.setting.mp_service.service_type,a.data.show_alipay&&(e.showAlipay=!0),e.loadding=!1,s()}))},hidePopupFunc(){this.isPayPopup=!1},cancelOrder(e){let a=this,i=e;l({title:"提示",content:"您确定要取消当前订单吗?",success:function(e){e.confirm&&(t({title:"正在处理"}),a._get("user.order/cancel",{order_id:i},(function(e){s(),d({title:"操作成功",duration:2e3,icon:"success"}),a.getData()})))}})},orderReceipt(e){let a=this;l({title:"提示",content:"您确定要收货吗?",success:function(l){l.confirm&&(t({title:"正在处理"}),a._post("user.order/receipt",{order_id:e},(function(e){s(),d({title:e.msg,duration:2e3,icon:"success"}),a.getData()})))}})},gotoExpress(e){this.gotoPage("/pages/order/express/express?order_id="+e)},onApplyRefund(e){this.gotoPage("/pages/order/refund/apply/apply?order_product_id="+e)},payTypeFunc(e){let a=this,l=a.order_id;a.isPayPopup=!1,t({title:"加载中"}),a._post("user.order/pay",{payType:e,order_id:l,pay_source:a.getPlatform()},(function(e){s(),C(e,a)}))},onPayOrder(e){this.gotoPage("/pages/order/cashier?order_type=1&order_id="+e)},gotoProduct(e){this.gotoPage("/pages/product/detail/detail?product_id="+e.product_id)},tochat(){10==this.service_type&&(this.isMpservice=!0),20==this.service_type&&this.gotoPage("/pagesPlus/chat/chat?user_id="+this.detail.supplier.supplier_user_id+"&shop_supplier_id="+this.detail.supplier.shop_supplier_id+"&nickName="+this.detail.supplier.name+"&order_id="+this.order_id)},changeRadio(e){this.status=e.detail.value},Cancel(){let e=this;l({title:"提示",content:"您确定审核吗?",success:function(a){a.confirm&&(t({title:"正在处理"}),e._post("supplier.order/confirmCancel",{order_id:e.detail.order_id,is_cancel:e.status,cancel_refuse:e.cancel_refuse},(function(a){s(),e.showSuccess(a.msg),e.getData()})))}})},changeSelect(e){console.log(e),this.express_name=this.expressList[e.detail.value].express_name,this.express_id=this.expressList[e.detail.value].express_id},sendPro(){let e=this;l({title:"提示",content:"您确定要发货吗?",success:function(a){a.confirm&&(t({title:"正在处理"}),e._post("supplier.order/delivery",{order_id:e.detail.order_id,express_id:e.express_id,express_no:e.express_no},(function(a){s(),e.showSuccess(a.msg),e.getData()})))}})}}},[["render",function(e,a,t,s,l,d){const A=g,C=n,U=h,D=x,Q=T,E=b,I=P,X=S,j=z,F=R("Mpservice");return l.loadding?o("",!0):(i(),c(C,{key:0,"data-theme":e.theme(),class:u("order-datail pb100 "+e.theme())},{default:r((()=>[_(C,{class:"order-state d-s-c"},{default:r((()=>[_(C,{class:"icon-box"},{default:r((()=>["已付款，待发货"==l.detail.state_text?(i(),c(A,{key:0,class:"icon iconfont icon-icon"})):o("",!0),"待付款"==l.detail.state_text?(i(),c(A,{key:1,class:"icon iconfont icon-icon"})):o("",!0),"已发货，待收货"==l.detail.state_text?(i(),c(A,{key:2,class:"icon iconfont icon-daishouhuo"})):o("",!0),"已完成"==l.detail.state_text?(i(),c(A,{key:3,class:"icon iconfont icon-xuanze"})):o("",!0),"已取消"==l.detail.state_text?(i(),c(A,{key:4,class:"icon iconfont icon-gantanhao"})):o("",!0)])),_:1}),_(C,{class:"state-cont flex-1"},{default:r((()=>[_(C,{class:"state-txt d-b-c"},{default:r((()=>[_(A,{class:"desc f34"},{default:r((()=>[p(f(l.detail.state_text),1)])),_:1})])),_:1}),10==l.detail.pay_status.value?(i(),c(C,{key:0,class:"status-price pt10"},{default:r((()=>[p("应付金额：¥ "+f(l.detail.pay_price),1)])),_:1})):o("",!0),l.detail.pay_end_time?(i(),c(C,{key:1,class:"countdown-datetime"},{default:r((()=>[_(A,null,{default:r((()=>[p("剩"+f(l.detail.pay_end_time)+"自动关闭",1)])),_:1})])),_:1})):o("",!0)])),_:1}),_(C,{class:"dot-bg"})])),_:1}),10==l.detail.delivery_type.value?(i(),c(C,{key:0,class:"order-express p30 d-s-c"},{default:r((()=>[_(C,{class:"icon-box"},{default:r((()=>[_(U,{style:{width:"42rpx",height:"42rpx"},src:"data:image/png;base64,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",mode:""})])),_:1}),_(C,{class:"cont-text flex-1 o-h ml20 f30"},{default:r((()=>[_(C,{class:"express-text f32"},{default:r((()=>[p(f(l.detail.address.name),1),_(A,{class:"f26 gray9"},{default:r((()=>[p(f(l.detail.address.phone),1)])),_:1})])),_:1}),_(C,{class:"gray3 f26 pt10"},{default:r((()=>[p(f(l.detail.address.region.province)+f(l.detail.address.region.city)+f(l.detail.address.region.region)+f(l.detail.address.detail),1)])),_:1})])),_:1}),_(C,{class:"icon iconfont icon-jiantou"})])),_:1})):o("",!0),20==l.detail.delivery_type.value?(i(),c(C,{key:1,class:"order-express p30 d-s-s"},{default:r((()=>[_(C,{class:"flow-delivery__title m-top20"},{default:r((()=>[_(A,{class:"icon iconfont icon-dizhi1"},{default:r((()=>[p("自提门店")])),_:1})])),_:1}),_(C,{class:"cont-text flex-1 o-h ml20 f30"},{default:r((()=>[_(C,{class:"express-text"},{default:r((()=>[p(f(l.extractStore.store_name)+" "+f(l.extractStore.phone)+" ",1),_(C,{class:"f24 gray9 pt10"},{default:r((()=>[p(f(l.extractStore.region.province)+" "+f(l.extractStore.region.city)+" "+f(l.extractStore.region.region)+" "+f(l.extractStore.address),1)])),_:1})])),_:1})])),_:1})])),_:1})):o("",!0),10==l.detail.delivery_type.value&&20==l.detail.delivery_status.value?(i(),c(C,{key:2,class:"group bg-white",onClick:a[0]||(a[0]=e=>d.gotoExpress(l.detail.order_id))},{default:r((()=>[_(C,{class:"d-b-c"},{default:r((()=>[_(C,{class:"f28"},{default:r((()=>[_(C,{class:"p-20-0"},{default:r((()=>[_(A,{class:"gray9"},{default:r((()=>[p("物流公司：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.express.express_name),1)])),_:1})])),_:1}),_(C,{class:"p-20-0"},{default:r((()=>[_(A,{class:"gray9"},{default:r((()=>[p("物流单号：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.express_no),1)])),_:1})])),_:1})])),_:1}),_(C,null,{default:r((()=>[_(A,{class:"icon iconfont icon-jiantou"})])),_:1})])),_:1})])),_:1})):o("",!0),_(C,{class:"shops group bg-white"},{default:r((()=>[_(C,{class:"group-hd border-b-e",onClick:a[1]||(a[1]=a=>e.gotoPage("/pages/shop/shop?shop_supplier_id="+l.detail.supplier.shop_supplier_id))},{default:r((()=>[_(C,{class:"left"},{default:r((()=>[y("i",{class:"icon iconfont icon-dianpu1"}),_(A,{class:"min-name"},{default:r((()=>[p(f(l.detail.supplier.name),1)])),_:1}),_(A,{class:"icon iconfont icon-jiantou"})])),_:1})])),_:1}),_(C,{class:"list"},{default:r((()=>[(i(!0),m(k,null,v(l.detail.product,((e,a)=>(i(),c(C,{class:"one-product p-20-0",key:a},{default:r((()=>[_(C,{class:"d-f"},{default:r((()=>[_(C,{class:"cover"},{default:r((()=>[_(U,{src:e.image.file_path,mode:"aspectFit"},null,8,["src"])])),_:2},1024),_(C,{class:"info flex-1 p-0-20"},{default:r((()=>[_(C,{class:"d-b-s"},{default:r((()=>[_(C,{class:"flex-1"},{default:r((()=>[_(C,{class:"title f28 gray3"},{default:r((()=>[p(f(e.product_name),1)])),_:2},1024),20==e.spec_type?(i(),c(C,{key:0,class:"describe mt10 f24"},{default:r((()=>[p(f(e.product_attr),1)])),_:2},1024)):o("",!0)])),_:2},1024),_(C,null,{default:r((()=>[_(C,{class:"count_choose"},{default:r((()=>[_(C,{class:"price"},{default:r((()=>[p(" ¥ "),_(A,{class:"num"},{default:r((()=>[p(f(e.product_price),1)])),_:2},1024)])),_:2},1024),_(C,{class:"num-wrap"},{default:r((()=>[_(C,{class:"f22 tr"},{default:r((()=>[p("×"+f(e.total_num),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),1==e.is_user_grade?(i(),c(C,{key:0,class:"mt10 tr f28"},{default:r((()=>[_(A,{class:"theme-price f26"},{default:r((()=>[p("会员折扣价：")])),_:1}),_(A,{class:"theme-price f32"},{default:r((()=>[p(f(e.grade_product_price),1)])),_:2},1024)])),_:2},1024)):o("",!0),"user"==l.source?(i(),c(C,{key:1,class:"pt10 d-e-c"},{default:r((()=>[_(C,{class:"m-top20 dis-flex flex-x-end"},{default:r((()=>[e.refund?(i(),c(A,{key:0},{default:r((()=>[p("已申请售后")])),_:1})):l.detail.isAllowRefund?(i(),c(C,{key:1,onClick:a=>d.onApplyRefund(e.order_product_id)},{default:r((()=>[_(D,{type:"default"},{default:r((()=>[p("申请售后")])),_:1})])),_:2},1032,["onClick"])):o("",!0)])),_:2},1024)])),_:2},1024)):o("",!0)])),_:2},1024)))),128))])),_:1})])),_:1}),_(C,{class:"group bg-white f26"},{default:r((()=>[_(C,{class:"p-20-0"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("订单编号：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.order_no),1)])),_:1})])),_:1}),_(C,{class:"p-20-0"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("下单时间：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.create_time),1)])),_:1})])),_:1}),_(C,{class:"p-20-0"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("支付方式：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.pay_type.text),1)])),_:1})])),_:1}),_(C,{class:"p-20-0"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("配送方式：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.delivery_type.text),1)])),_:1})])),_:1}),30==l.detail.delivery_type.value&&30==l.detail.order_status.value&&""!=l.detail.virtual_content?(i(),c(C,{key:0,class:"p-20-0"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("发货信息：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.virtual_content),1)])),_:1})])),_:1})):o("",!0),_(C,{class:"p-20-0"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("备注：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.buyer_remark),1)])),_:1})])),_:1}),20==l.detail.order_status.value&&""!=l.detail.cancel_remark?(i(),c(C,{key:1,class:"p-20-0"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("商家备注：")])),_:1}),_(A,null,{default:r((()=>[p(f(l.detail.cancel_remark),1)])),_:1})])),_:1})):o("",!0),l.service_open&&l.detail.supplier.user_id!=l.user_id?(i(),c(C,{key:2,class:"p-20-0 kefu",onClick:d.tochat},{default:r((()=>[_(A,{class:"icon iconfont icon-kefu2"}),_(A,{class:""},{default:r((()=>[p("联系卖家")])),_:1})])),_:1},8,["onClick"])):o("",!0)])),_:1}),_(C,{class:"group bg-white f26"},{default:r((()=>[70!=l.detail.order_source?(i(),c(C,{key:0,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("商品总价")])),_:1}),_(A,null,{default:r((()=>[p("¥ "+f(l.detail.total_price),1)])),_:1})])),_:1})):o("",!0),70==l.detail.order_source?(i(),c(C,{key:1,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("定金：")])),_:1}),_(A,null,{default:r((()=>[p("￥"+f(l.detail.advance.pay_price),1)])),_:1})])),_:1})):o("",!0),l.detail.pay_price&&70==l.detail.order_source?(i(),c(C,{key:2,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("尾款：")])),_:1}),_(A,null,{default:r((()=>[p("￥"+f(l.detail.total_price),1)])),_:1})])),_:1})):o("",!0),l.detail.advance&&l.detail.advance.reduce_money>0?(i(),c(C,{key:3,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("尾款立减")])),_:1}),_(A,null,{default:r((()=>[p("-¥ "+f(l.detail.advance.reduce_money),1)])),_:1})])),_:1})):o("",!0),_(C,{class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("运费")])),_:1}),_(A,null,{default:r((()=>[p("¥ "+f(l.detail.express_price),1)])),_:1})])),_:1}),l.detail.product_reduce_money>0?(i(),c(C,{key:4,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("商品立减")])),_:1}),_(A,null,{default:r((()=>[p("-¥ "+f(l.detail.product_reduce_money),1)])),_:1})])),_:1})):o("",!0),l.detail.points_money>0?(i(),c(C,{key:5,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p(f(e.points_name())+"抵扣金额：",1)])),_:1}),_(A,{class:"theme-price"},{default:r((()=>[p("- ¥"+f(l.detail.points_money),1)])),_:1})])),_:1})):o("",!0),l.detail.coupon_money>0?(i(),c(C,{key:6,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("商户优惠券")])),_:1}),_(A,{class:"theme-price"},{default:r((()=>[p("- ¥ "+f(l.detail.coupon_money),1)])),_:1})])),_:1})):o("",!0),l.detail.coupon_money_sys>0?(i(),c(C,{key:7,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("平台优惠券")])),_:1}),_(A,{class:"theme-price"},{default:r((()=>[p("- ¥ "+f(l.detail.coupon_money_sys),1)])),_:1})])),_:1})):o("",!0),l.detail.fullreduce_money>0?(i(),c(C,{key:8,class:"p-20-0 d-b-c"},{default:r((()=>[_(A,{class:""},{default:r((()=>[p("商户满减")])),_:1}),_(A,{class:"theme-price"},{default:r((()=>[p("- ¥ "+f(l.detail.fullreduce_money),1)])),_:1})])),_:1})):o("",!0),_(C,{class:"p-20-0 d-e-c fb f34"},{default:r((()=>[p(" 实付金额： "),70==l.detail.order_source?(i(),c(A,{key:0,class:"red"},{default:r((()=>[p("¥"+f((1*l.detail.pay_price+1*l.detail.advance.pay_price).toFixed(2)),1)])),_:1})):(i(),c(A,{key:1,class:"red"},{default:r((()=>[p("¥ "+f(l.detail.pay_price),1)])),_:1}))])),_:1})])),_:1}),20==l.detail.pay_status.value&&10==l.detail.delivery_type.value&&10==l.detail.order_status.value&&10==l.detail.delivery_status.value&&"supplier"==l.source?(i(),c(C,{key:3,class:"group bg-white"},{default:r((()=>[_(C,{class:"f32 fb p-0-20"},{default:r((()=>[p("去发货")])),_:1}),_(C,{class:"table-item"},{default:r((()=>[_(C,{class:"d-s-c make-top"},{default:r((()=>[_(C,{class:"fb color-28 f26 mr20"},{default:r((()=>[p("物流公司")])),_:1})])),_:1}),_(C,{class:""},{default:r((()=>[_(Q,{class:"",onChange:a[2]||(a[2]=e=>d.changeSelect(e)),range:l.expressList,"range-key":"express_name"},{default:r((()=>[_(C,{class:"selectpicker"},{default:r((()=>[_(C,{class:"make-item input-box flex-1"},{default:r((()=>[p(f(l.express_name||"请选择"),1)])),_:1}),_(C,{class:"icon iconfont icon-jiantou"})])),_:1})])),_:1},8,["range"])])),_:1})])),_:1}),_(C,{class:"table-item"},{default:r((()=>[_(C,{class:"d-s-c make-top"},{default:r((()=>[_(C,{class:"fb color-28 f26 mr20"},{default:r((()=>[p("物流单号")])),_:1})])),_:1}),_(C,{class:"pr"},{default:r((()=>[_(E,{class:"make-item selectpicker input-box",modelValue:l.express_no,"onUpdate:modelValue":a[3]||(a[3]=e=>l.express_no=e),type:"text",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1}),_(C),_(C,null,{default:r((()=>[_(D,{type:"default",class:"btn-blue send_btn",onClick:d.sendPro},{default:r((()=>[p("确认发货")])),_:1},8,["onClick"])])),_:1})])),_:1})):o("",!0),20==l.detail.pay_status.value&&21==l.detail.order_status.value&&"supplier"==l.source?(i(),c(C,{key:4},{default:r((()=>[_(C,{class:"f32 fb p-0-20 mb20 mt20"},{default:r((()=>[p("用户取消订单")])),_:1}),_(C,{class:"red p-0-20 mb20"},{default:r((()=>[p("当前买家已付款申请取消订单,请审核是否同意，如同意则自动退回付款金额(微信支付原路退款)并关闭订单")])),_:1}),_(C,{class:"p-0-20"},{default:r((()=>[_(C,{class:"d-s-c mb20"},{default:r((()=>[_(C,{class:"make-top w120 mr10"},{default:r((()=>[_(C,{class:"fb color-28 f26"},{default:r((()=>[p("审核状态")])),_:1})])),_:1}),_(j,{class:"d-a-c",onChange:a[4]||(a[4]=e=>d.changeRadio(e))},{default:r((()=>[_(X,{class:"d-s-c make-item"},{default:r((()=>[_(C,null,{default:r((()=>[_(I,{style:{transform:"scale(0.7)"},color:"#ff6633",checked:1==l.status,value:1},null,8,["checked"])])),_:1}),_(C,{class:"f26 color-57"},{default:r((()=>[p("同意")])),_:1})])),_:1}),_(X,{class:"d-s-c make-item"},{default:r((()=>[_(C,null,{default:r((()=>[_(I,{style:{transform:"scale(0.7)"},color:"#ff6633",checked:0==l.status,value:0},null,8,["checked"])])),_:1}),_(C,{class:"f26 color-57"},{default:r((()=>[p("拒绝")])),_:1})])),_:1})])),_:1})])),_:1}),0==l.status?(i(),c(C,{key:0,class:"d-s-c mb20"},{default:r((()=>[_(C,{class:"w120 mr10"},{default:r((()=>[p("拒绝原因")])),_:1}),_(E,{type:"text",class:"make-item selectpicker input-box",modelValue:l.cancel_refuse,"onUpdate:modelValue":a[5]||(a[5]=e=>l.cancel_refuse=e)},null,8,["modelValue"])])),_:1})):o("",!0)])),_:1}),_(C,null,{default:r((()=>[_(D,{class:"theme-btn send_btn",onClick:d.Cancel},{default:r((()=>[p("确认")])),_:1},8,["onClick"])])),_:1})])),_:1})):o("",!0),70!=l.detail.order_source?(i(),m(k,{key:5},[20!=l.detail.order_status.value&&30!=l.detail.order_status.value&&"user"==l.source?(i(),c(C,{key:0,class:"foot-btns"},{default:r((()=>[10==l.detail.pay_status.value?(i(),c(D,{key:0,class:"theme-borderbtn",onClick:a[6]||(a[6]=e=>d.cancelOrder(l.detail.order_id))},{default:r((()=>[p("取消订单")])),_:1})):o("",!0),21!=l.detail.order_status.value?(i(),m(k,{key:1},[20==l.detail.pay_status.value&&10==l.detail.delivery_status.value?(i(),c(D,{key:0,onClick:a[7]||(a[7]=e=>d.cancelOrder(l.detail.order_id)),class:"theme-borderbtn"},{default:r((()=>[p("申请取消")])),_:1})):o("",!0)],64)):(i(),c(A,{key:2,class:"count f28 gray9"},{default:r((()=>[p("取消申请中")])),_:1})),10==l.detail.pay_status.value?(i(),m(k,{key:3},[10==l.detail.pay_status.value?(i(),c(D,{key:0,onClick:a[8]||(a[8]=e=>d.onPayOrder(l.detail.order_id)),class:"ml10 theme-btn"},{default:r((()=>[p("去支付")])),_:1})):o("",!0)],64)):o("",!0),20==l.detail.delivery_status.value&&10==l.detail.receipt_status.value?(i(),c(D,{key:4,class:"theme-btn",onClick:a[9]||(a[9]=e=>d.orderReceipt(l.detail.order_id))},{default:r((()=>[p("确认收货")])),_:1})):o("",!0)])),_:1})):o("",!0)],64)):o("",!0),l.isMpservice?(i(),c(F,{key:6,isMpservice:l.isMpservice,shopSupplierId:l.detail.supplier.shop_supplier_id,onClose:e.closeMpservice},null,8,["isMpservice","shopSupplierId","onClose"])):o("",!0)])),_:1},8,["data-theme","class"]))}],["__scopeId","data-v-4621121e"]]);export{D as default};
