import{f as e,b as l,p as a,d as o,n as m,o as d,c as r,e as t}from"./element-plus-a75e5680.js";import{b as s,e as i}from"./region-81a4c9b2.js";import{_ as u}from"./index-88c54a2c.js";import{c as n,O as p,R as f,o as c,a as V,V as _,S as v,P as h,a8 as b,X as g}from"./@vue-5c89b57d.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-85afefd9.js";import"./dayjs-4d201c0d.js";import"./@element-plus-ef0dbc7a.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./request-5f88d5f5.js";import"./axios-85bcd05e.js";import"./vue-router-2af8da50.js";import"./pinia-3964e703.js";import"./vue-demi-71ba0ef2.js";const y={data:()=>({loading:!1,id:0,form:{province_id:"",city_id:"",level:1},areaList:[]}),created(){this.id=this.$route.query.id,this.getData()},methods:{getData(){s({id:this.id}).then((e=>{this.form=e.data.model,this.areaList=e.data.regionData})).catch((e=>{}))},onSubmit(){let l=this,a=this.form;l.$refs.form.validate((o=>{o&&(l.loading=!0,i(a).then((a=>{l.loading=!1,e({message:"恭喜你，修改成功",type:"success"}),l.$router.push("/region/Index")})).catch((e=>{l.loading=!1})))}))},initCity(){this.form.city_id=""}}},j={class:"product-add"},x=V("div",{class:"common-form"},"编辑物流公司",-1),U=V("div",{class:"tips"},"数字越小越靠前",-1);const w=u(y,[["render",function(e,s,i,u,y,w){const k=a,C=o,z=m,L=d,q=r,D=t,S=l;return c(),n("div",j,[p(S,{ref:"form",model:y.form,"label-width":"200px"},{default:f((()=>[x,p(C,{label:"地区类型"},{default:f((()=>[V("div",null,[p(k,{modelValue:y.form.level,"onUpdate:modelValue":s[0]||(s[0]=e=>y.form.level=e),label:1},{default:f((()=>[_("省份")])),_:1},8,["modelValue"]),p(k,{modelValue:y.form.level,"onUpdate:modelValue":s[1]||(s[1]=e=>y.form.level=e),label:2},{default:f((()=>[_("城市")])),_:1},8,["modelValue"]),p(k,{modelValue:y.form.level,"onUpdate:modelValue":s[2]||(s[2]=e=>y.form.level=e),label:3},{default:f((()=>[_("地区")])),_:1},8,["modelValue"])])])),_:1}),y.form.level>1?(c(),v(C,{key:0,label:"选择上级"},{default:f((()=>[y.form.level>1?(c(),v(L,{key:0,modelValue:y.form.province_id,"onUpdate:modelValue":s[3]||(s[3]=e=>y.form.province_id=e),placeholder:"省",onChange:w.initCity},{default:f((()=>[(c(!0),n(h,null,b(y.areaList,((e,l)=>(c(),v(z,{label:e.name,value:e.id,key:l},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])):g("",!0),""!=y.form.province_id&&y.form.level>2?(c(),v(L,{key:1,modelValue:y.form.city_id,"onUpdate:modelValue":s[4]||(s[4]=e=>y.form.city_id=e),placeholder:"市"},{default:f((()=>[(c(!0),n(h,null,b(y.areaList[y.form.province_id].city,((e,l)=>(c(),v(z,{label:e.name,value:e.id,key:l},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):g("",!0)])),_:1})):g("",!0),p(C,{label:"地区名称 ",prop:"name",rules:[{required:!0,message:" "}]},{default:f((()=>[p(q,{modelValue:y.form.name,"onUpdate:modelValue":s[5]||(s[5]=e=>y.form.name=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"简称",prop:"shortname"},{default:f((()=>[p(q,{modelValue:y.form.shortname,"onUpdate:modelValue":s[6]||(s[6]=e=>y.form.shortname=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"全称",prop:"merger_name"},{default:f((()=>[p(q,{modelValue:y.form.merger_name,"onUpdate:modelValue":s[7]||(s[7]=e=>y.form.merger_name=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"拼音",prop:"pinyin"},{default:f((()=>[p(q,{modelValue:y.form.pinyin,"onUpdate:modelValue":s[8]||(s[8]=e=>y.form.pinyin=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"邮编",prop:"zip_code"},{default:f((()=>[p(q,{modelValue:y.form.zip_code,"onUpdate:modelValue":s[9]||(s[9]=e=>y.form.zip_code=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"首字母",prop:"first"},{default:f((()=>[p(q,{modelValue:y.form.first,"onUpdate:modelValue":s[10]||(s[10]=e=>y.form.first=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"经度",prop:"lng"},{default:f((()=>[p(q,{modelValue:y.form.lng,"onUpdate:modelValue":s[11]||(s[11]=e=>y.form.lng=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"纬度",prop:"lat"},{default:f((()=>[p(q,{modelValue:y.form.lat,"onUpdate:modelValue":s[12]||(s[12]=e=>y.form.lat=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),p(C,{label:"排序"},{default:f((()=>[p(q,{modelValue:y.form.sort,"onUpdate:modelValue":s[13]||(s[13]=e=>y.form.sort=e),type:"number",class:"max-w460"},null,8,["modelValue"]),U])),_:1}),p(C,null,{default:f((()=>[p(D,{type:"primary",onClick:w.onSubmit,loading:y.loading},{default:f((()=>[_("提交")])),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["model"])])}]]);export{w as default};
