System.register(["./element-plus-legacy-95e175d5.js","./access-legacy-1c31d54f.js","./Edit-legacy-77d74502.js","./Add-legacy-9ce50580.js","./index-legacy-78811272.js","./@vue-legacy-3d9ca20c.js","./lodash-es-legacy-74aa31b9.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-67ffa4bd.js","./dayjs-legacy-503a1c3f.js","./@element-plus-legacy-c3efface.js","./@popperjs-legacy-876caf52.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./request-legacy-ea694195.js","./axios-legacy-40880ebd.js","./vue-router-legacy-af99759f.js","./pinia-legacy-54e74fbe.js","./vue-demi-legacy-97cfbb01.js"],(function(e,n){"use strict";var t,a,l,o,i,c,s,r,u,d,p,f,h,g,m,_,y,w,k,v,b,C,D,j,S,M,V,F;return{setters:[function(e){t=e.f,a=e.E,l=e.e,o=e.b,i=e.h,c=e.v,s=e.i,r=e.d,u=e.j,d=e.k},function(e){p=e.s,f=e.a,h=e.d},function(e){g=e.default},function(e){m=e.default},function(e){_=e._,y=e.d},function(e){w=e.c,k=e.a,v=e.O,b=e.R,C=e._,D=e.S,j=e.X,S=e.ad,M=e.o,V=e.V,F=e.W},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var n={class:"product"},T={class:"common-level-rail d-b-c"},x={class:"product-content"},z={class:"table-wrap"},A={key:0,class:"fb red f18"},E={key:1},L={key:0},U={key:1},P={key:2};e("default",_({components:{Edit:g,Add:m},data:function(){return{loading:!0,formSearch:{is_menu:!1,pack_up:!1},rawData:[],tableData:[],open_add:!1,add_type:"",selectModel:{},open_edit:!1,userModel:{}}},created:function(){this.getTableList()},methods:{changeIsMenuFunc:function(e){var n=y(this.rawData);e?(this.showScreen(n,1),this.tableData=n):this.tableData=n},isShowFunc:function(e){var n=this;p({access_id:e.access_id,status:e.is_show}).then((function(e){1==e.code&&(t({message:e.msg,type:"success"}),n.getTableList())})).catch((function(e){n.loading=!1}))},changePackUpFunc:function(e){this.forArr(this.tableData,!e)},forArr:function(e,n){var t=this;e.forEach((function(e){t.$refs.theTable.toggleRowExpansion(e,n),e.children&&t.forArr(e.children,n)}))},changeShowFunc:function(e){var n,t=y(this.rawData);"all"==e||("show"==e&&(n=1),"hide"==e&&(n=0),this.showScreen(t,n)),this.tableData=t},showScreen:function(e,n){for(var t=0;t<e.length;t++){var a=e[t];void 0!==a.is_menu&&a.is_menu!=n?(e.splice(t,1),t--):a.children.length>0&&this.showScreen(a.children,n)}},getTableList:function(){var e=this;f({}).then((function(n){e.loading=!1,e.rawData=n.data,e.tableData=n.data})).catch((function(n){e.loading=!1}))},addClick:function(e,n){e&&void 0!==e?(this.add_type=n,this.selectModel=y(e)):this.parents_id=0,this.open_add=!0},editClick:function(e){this.selectModel=e,this.open_edit=!0},closeDialogFunc:function(e,n){"add"==n&&(this.open_add=e.openDialog,"success"==e.type&&this.getTableList()),"edit"==n&&(this.open_edit=e.openDialog,"success"==e.type&&this.getTableList())},deleteClick:function(e){var n=this;a.confirm("删除后不可恢复，确认删除该记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.loading=!0,h({access_id:e.access_id}).then((function(e){1==e.code&&(n.loading=!1,t({message:e.msg,type:"success"}),n.getTableList())})).catch((function(e){n.loading=!1}))})).catch((function(){}))}}},[["render",function(e,t,a,p,f,h){var g=l,m=s,_=r,y=o,B=u,I=d,O=i,R=S("Add"),q=S("Edit"),Q=c;return M(),w("div",n,[k("div",T,[v(g,{type:"primary",onClick:h.addClick,icon:"Plus"},{default:b((function(){return[V("添加菜单&权限")]})),_:1},8,["onClick"]),v(y,{inline:!0,model:f.formSearch,size:"small"},{default:b((function(){return[v(_,null,{default:b((function(){return[v(m,{modelValue:f.formSearch.is_menu,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.formSearch.is_menu=e}),onChange:h.changeIsMenuFunc},{default:b((function(){return[V("只显示菜单")]})),_:1},8,["modelValue","onChange"]),v(m,{modelValue:f.formSearch.pack_up,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.formSearch.pack_up=e}),onChange:h.changePackUpFunc},{default:b((function(){return[V("收起")]})),_:1},8,["modelValue","onChange"])]})),_:1})]})),_:1},8,["model"])]),k("div",x,[k("div",z,[k("div",null,[C((M(),D(O,{size:"small",data:f.tableData,style:{width:"100%","margin-bottom":"20px"},"row-key":"access_id",border:"","default-expand-all":"",ref:"theTable","tree-props":{children:"children"}},{default:b((function(){return[v(B,{prop:"name",label:"菜单名称"},{default:b((function(e){return["/plus"==e.row.path?(M(),w("span",A,F(e.row.name),1)):(M(),w("span",E,F(e.row.name),1))]})),_:1}),v(B,{prop:"path",label:"路径"}),v(B,{prop:"is_route",label:"类别",width:"90"},{default:b((function(e){return[1==e.row.is_route?(M(),w("span",L,"页面")):j("",!0),0==e.row.is_route?(M(),w("span",U,"按钮")):j("",!0),2==e.row.is_route?(M(),w("span",P,"独立单页面")):j("",!0)]})),_:1}),v(B,{prop:"is_show",label:"是否显示",width:"80"},{default:b((function(e){return[v(I,{modelValue:e.row.is_show,"onUpdate:modelValue":function(n){return e.row.is_show=n},"active-value":1,"inactive-value":0,onChange:function(n){return h.isShowFunc(e.row)},"active-color":"#13ce66","inactive-color":"#cccccc"},null,8,["modelValue","onUpdate:modelValue","onChange"])]})),_:1}),v(B,{prop:"sort",label:"排序",width:"60"}),v(B,{prop:"create_time",label:"添加时间",width:"140"}),v(B,{prop:"name",label:"操作",width:"230"},{default:b((function(e){return["/plus"!=e.row.path?(M(),D(g,{key:0,onClick:function(n){return h.addClick(e.row,"copy")},link:"",type:"primary",size:"small"},{default:b((function(){return[V("一键复制")]})),_:2},1032,["onClick"])):j("",!0),v(g,{onClick:function(n){return h.addClick(e.row,"child")},link:"",type:"primary",size:"small"},{default:b((function(){return[V("添加子菜单")]})),_:2},1032,["onClick"]),v(g,{onClick:function(n){return h.editClick(e.row)},link:"",type:"primary",size:"small"},{default:b((function(){return[V("编辑")]})),_:2},1032,["onClick"]),"/plus"!=e.row.path?(M(),D(g,{key:1,onClick:function(n){return h.deleteClick(e.row)},link:"",type:"primary",size:"small"},{default:b((function(){return[V("删除")]})),_:2},1032,["onClick"])):j("",!0)]})),_:1})]})),_:1},8,["data"])),[[Q,f.loading]])])])]),f.open_add?(M(),D(R,{key:0,open_add:f.open_add,add_type:f.add_type,rawData:f.rawData,selectModel:f.selectModel,onCloseDialog:t[2]||(t[2]=function(e){return h.closeDialogFunc(e,"add")})},null,8,["open_add","add_type","rawData","selectModel"])):j("",!0),f.open_edit?(M(),D(q,{key:1,open_edit:f.open_edit,rawData:f.rawData,selectModel:f.selectModel,onCloseDialog:t[3]||(t[3]=function(e){return h.closeDialogFunc(e,"edit")})},null,8,["open_edit","rawData","selectModel"])):j("",!0)])}]]))}}}));
