System.register(["./element-plus-legacy-95e175d5.js","./access-legacy-1c31d54f.js","./index-legacy-78811272.js","./@vue-legacy-3d9ca20c.js","./lodash-es-legacy-74aa31b9.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-67ffa4bd.js","./dayjs-legacy-503a1c3f.js","./@element-plus-legacy-c3efface.js","./@popperjs-legacy-876caf52.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./request-legacy-ea694195.js","./axios-legacy-40880ebd.js","./vue-router-legacy-af99759f.js","./pinia-legacy-54e74fbe.js","./vue-demi-legacy-97cfbb01.js"],(function(e,l){"use strict";var a,t,n,o,r,i,u,s,d,c,f,m,h,p,b,g,_,V,D,y;return{setters:[function(e){a=e.f,t=e.c,n=e.d,o=e.p,r=e.q,i=e.r,u=e.b,s=e.e,d=e.s},function(e){c=e.h},function(e){f=e._,m=e.d,h=e.f},function(e){p=e.o,b=e.S,g=e.R,_=e.O,V=e.V,D=e.X,y=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l={data:function(){return{loading:!1,formData:{name:"",path:"",views:"",alias:"",icon:"",is_menu:0,is_route:1,is_show:1,sort:1,parent_id:0},formRules:{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],path:[{required:!0,message:"请输入路径",trigger:"blur"}],views:[{required:!0,message:"请输入组件名称",trigger:"blur"}],alias:[{required:!0,message:"请输入别名",trigger:"blur"}]},parentsVal:[],accessList:[],srot:"1",formLabelWidth:"120px",dialogVisible:!1,propsParam:{label:"name",value:"access_id",checkStrictly:!0}}},props:{open_add:Boolean,add_type:String,rawData:Array,selectModel:Object},created:function(){this.dialogVisible=this.open_add,this.accessList=m(this.rawData),this.accessList.unshift({name:"顶级菜单",access_id:0}),"copy"==this.add_type?(this.formData=h(this.formData,this.selectModel),this.findParentsID(this.accessList)):"child"==this.add_type&&(this.formData.parent_id=this.selectModel.access_id,this.findParentsID(this.accessList))},methods:{handleChange:function(e){},findParentsID:function(e){for(var l=!1,a=0;a<e.length;a++){var t=e[a];if(t.access_id==this.formData.parent_id){this.parentsVal.unshift(t.access_id),l=!0;break}var n=t.children;if(void 0!==n&&n.length>0&&this.findParentsID(n)){this.parentsVal.unshift(t.access_id),l=!0;break}}return l},onSubmit:function(){var e=this,l=this.formData;e.parentsVal.length>0&&(l.parent_id=e.parentsVal[e.parentsVal.length-1]),e.$refs.form.validate((function(t){t&&(e.loading=!0,c(l).then((function(l){1==l.code&&(a({message:l.msg,type:"success"}),e.dialogFormVisible(!0),e.loading=!1)})).catch((function(l){e.loading=!1})))}))},dialogFormVisible:function(e){e?this.$emit("closeDialog",{type:"success",openDialog:!1}):this.$emit("closeDialog",{type:"error",openDialog:!1})}}},w=y("p",null,"提示：对应前端给的文件路径，例如：/index/index",-1),j=y("p",null,"提示：请选择系统提供的图标",-1);e("default",f(l,[["render",function(e,l,a,c,f,m){var h=t,y=n,v=o,L=r,k=i,U=u,W=s,C=d;return p(),b(C,{title:"添加菜单&权限",modelValue:f.dialogVisible,"onUpdate:modelValue":l[11]||(l[11]=function(e){return f.dialogVisible=e}),onClose:m.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:g((function(){return[_(W,{onClick:m.dialogFormVisible},{default:g((function(){return[V("取 消")]})),_:1},8,["onClick"]),_(W,{type:"primary",onClick:l[10]||(l[10]=function(e){return m.onSubmit()}),disabled:f.loading},{default:g((function(){return[V("确 定")]})),_:1},8,["disabled"])]})),default:g((function(){return[_(U,{size:"small",model:f.formData,rules:f.formRules,ref:"form"},{default:g((function(){return[_(y,{label:"菜单名称",prop:"name","label-width":f.formLabelWidth},{default:g((function(){return[_(h,{modelValue:f.formData.name,"onUpdate:modelValue":l[0]||(l[0]=function(e){return f.formData.name=e}),autocomplete:"off",placeholder:"请输入菜单名称"},null,8,["modelValue"])]})),_:1},8,["label-width"]),_(y,{label:"类型",prop:"name","label-width":f.formLabelWidth},{default:g((function(){return[_(L,{modelValue:f.formData.is_route,"onUpdate:modelValue":l[1]||(l[1]=function(e){return f.formData.is_route=e})},{default:g((function(){return[_(v,{label:1},{default:g((function(){return[V("页面")]})),_:1}),_(v,{label:0},{default:g((function(){return[V("按钮")]})),_:1}),_(v,{label:2},{default:g((function(){return[V("独立单页面")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),_(y,{label:"上级菜单",prop:"parent_id","label-width":f.formLabelWidth},{default:g((function(){return[_(k,{size:"small",modelValue:f.parentsVal,"onUpdate:modelValue":l[2]||(l[2]=function(e){return f.parentsVal=e}),options:f.accessList,props:f.propsParam,onChange:m.handleChange},null,8,["modelValue","options","props","onChange"])]})),_:1},8,["label-width"]),_(y,{label:"路径",prop:"path","label-width":f.formLabelWidth},{default:g((function(){return[_(h,{modelValue:f.formData.path,"onUpdate:modelValue":l[3]||(l[3]=function(e){return f.formData.path=e}),autocomplete:"off",placeholder:"请输入组件文件路径"},null,8,["modelValue"]),w]})),_:1},8,["label-width"]),_(y,{label:"图标","label-width":f.formLabelWidth},{default:g((function(){return[_(h,{modelValue:f.formData.icon,"onUpdate:modelValue":l[4]||(l[4]=function(e){return f.formData.icon=e}),autocomplete:"off",placeholder:"请输入icon"},null,8,["modelValue"]),j]})),_:1},8,["label-width"]),1==f.formData.is_route?(p(),b(y,{key:0,label:"是否是菜单","label-width":f.formLabelWidth},{default:g((function(){return[_(L,{modelValue:f.formData.is_menu,"onUpdate:modelValue":l[5]||(l[5]=function(e){return f.formData.is_menu=e})},{default:g((function(){return[_(v,{label:1},{default:g((function(){return[V("是")]})),_:1}),_(v,{label:0},{default:g((function(){return[V("否")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"])):D("",!0),_(y,{label:"是否显示","label-width":f.formLabelWidth},{default:g((function(){return[_(L,{modelValue:f.formData.is_show,"onUpdate:modelValue":l[6]||(l[6]=function(e){return f.formData.is_show=e})},{default:g((function(){return[_(v,{label:1},{default:g((function(){return[V("是")]})),_:1}),_(v,{label:0},{default:g((function(){return[V("否")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),1==f.formData.is_route?(p(),b(y,{key:1,label:"重定向","label-width":f.formLabelWidth},{default:g((function(){return[_(h,{modelValue:f.formData.redirect_name,"onUpdate:modelValue":l[7]||(l[7]=function(e){return f.formData.redirect_name=e}),autocomplete:"off",placeholder:"请输入重定向地址"},null,8,["modelValue"])]})),_:1},8,["label-width"])):D("",!0),_(y,{label:"备注",prop:"sort","label-width":f.formLabelWidth},{default:g((function(){return[_(h,{modelValue:f.formData.remark,"onUpdate:modelValue":l[8]||(l[8]=function(e){return f.formData.remark=e}),placeholder:"请输入备注",type:"textarea"},null,8,["modelValue"])]})),_:1},8,["label-width"]),_(y,{label:"排序",prop:"sort","label-width":f.formLabelWidth},{default:g((function(){return[_(h,{modelValue:f.formData.sort,"onUpdate:modelValue":l[9]||(l[9]=function(e){return f.formData.sort=e}),placeholder:"请输入排序",type:"number"},null,8,["modelValue"])]})),_:1},8,["label-width"])]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue","onClose"])}]]))}}}));
