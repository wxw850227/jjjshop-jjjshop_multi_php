import{E as s,f as a,g as e}from"./element-plus-a75e5680.js";import{u as t,a as i,d as l,p as o}from"./plugs-c2616104.js";import d from"./Add-f9f47807.js";import{_ as n,d as c}from"./index-07143257.js";import{E as p,J as r,K as u,c as m,P as h,a8 as g,S as _,X as f,a as j,ad as v,o as y,W as D,O as k,R as C,L as b}from"./@vue-5c89b57d.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-85afefd9.js";import"./dayjs-4d201c0d.js";import"./@element-plus-ef0dbc7a.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./request-8f5d2679.js";import"./axios-85bcd05e.js";import"./vue-router-2af8da50.js";import"./pinia-3964e703.js";import"./vue-demi-71ba0ef2.js";const x=p({components:{Add:d},setup(){const s=r({loading:!0,tableData:[],totalDataNumber:0,open_add:!1,open_edit:!1,open_type:!1,curModel:{}}),a=()=>{s.loading=!0,o({}).then((a=>{const{data:{accessList:e}}=a;s.tableData=e,s.loading=!1})).catch((a=>{s.loading=!1}))};return a(),{...u(s),getData:a}},methods:{addType(){this.open_type=!0},statusChange:function(s,a){let e=this;e.loading=!0,t({plus_id:a.plus_id}).then((t=>{e.loading=!1,a.status=s})).catch((()=>{e.loading=!1,a.status=!s}))},recomChange:function(s,a){let e=this;e.loading=!0,i({plus_id:a.plus_id}).then((t=>{e.loading=!1,a.is_recom=s})).catch((()=>{e.loading=!1,a.is_recom=!s}))},addClick(s){this.curModel=s,this.open_add=!0},editClick(s){this.userModel=c(s),this.open_edit=!0},closeDialogFunc(s,a){"type"==a&&(this.open_type=s.openDialog,"success"==s.type&&this.tableData.push({plus_name:"新类别"})),"add"==a&&(this.open_add=s.openDialog,"success"==s.type&&this.getData()),"edit"==a&&(this.open_edit=s.openDialog,"success"==s.type&&this.getData())},deleteClick(e){let t=this;s.confirm("删除后不可恢复，确认删除该记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.loading=!0,l({plus_id:e.access_id}).then((s=>{1==s.code&&(t.loading=!1,a({message:s.msg,type:"success"}),t.getData())})).catch((()=>{t.loading=!1}))})).catch((()=>{}))}}}),M={class:"plus-container"},z=j("div",{class:"common-level-rail"},null,-1),A={class:"common-form d-s-c"},F={class:"plus-list"},P={class:"item-box pr"},T=["onClick"],w={class:"ml10"},B={class:"item"},E={class:"d-s-c mt10"},L=["onClick"],O=j("div",{class:"ml10"},[j("p",{class:"f14 gray9"},"添加插件到此类别下")],-1);const q=n(x,[["render",function(s,a,t,i,l,o){const d=v("CircleCloseFilled"),n=e,c=v("Plus"),p=v("Add");return y(),m("div",M,[z,(y(!0),m(h,null,g(s.tableData,((a,e)=>(y(),m("div",{key:e,class:"mb16"},[j("div",A,[j("span",null,D(a.name),1)]),j("div",F,[(y(!0),m(h,null,g(a.children,((a,e)=>(y(),m("div",{class:"item",key:e},[j("div",P,[j("a",{href:"javascript:void(0);",class:"close-btn",onClick:e=>s.deleteClick(a)},[k(n,{size:20},{default:C((()=>[k(d)])),_:1})],8,T),j("a",null,[j("span",{class:b(["iconfont",a.icon]),style:{color:"#fff","font-size":"20px"}},null,2),j("div",w,[j("h3",null,D(a.name),1),j("p",null,D(a.remark),1)])])])])))),128)),j("div",B,[j("div",E,[j("div",{class:"add-item-box d-c-c",onClick:e=>s.addClick(a)},[k(n,{size:16},{default:C((()=>[k(c)])),_:1})],8,L),O])])])])))),128)),s.open_add?(y(),_(p,{key:0,open_add:s.open_add,curModel:s.curModel,onCloseDialog:a[0]||(a[0]=a=>s.closeDialogFunc(a,"add"))},null,8,["open_add","curModel"])):f("",!0)])}]]);export{q as default};
