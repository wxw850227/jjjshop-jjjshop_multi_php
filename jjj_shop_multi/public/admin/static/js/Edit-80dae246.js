import{f as e,c as l,d as a,n as o,o as s,b as m,e as t,s as i}from"./element-plus-a75e5680.js";import{e as d}from"./message-7c65eb41.js";import{_ as r}from"./index-88c54a2c.js";import{o as u,S as p,R as f,O as n,V as b}from"./@vue-5c89b57d.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-85afefd9.js";import"./dayjs-4d201c0d.js";import"./@element-plus-ef0dbc7a.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./request-5f88d5f5.js";import"./axios-85bcd05e.js";import"./vue-router-2af8da50.js";import"./pinia-3964e703.js";import"./vue-demi-71ba0ef2.js";const h=r({data:()=>({categoryList:[],formLabelWidth:"120px",dialogVisible:!1,loading:!1}),props:["open_edit","form"],created(){this.dialogVisible=this.open_edit},methods:{editMessage(){let l=this,a=this.form;l.$refs.form.validate((o=>{o&&(l.loading=!0,d(a).then((a=>{l.loading=!1,e({message:"恭喜你，修改成功",type:"success"}),l.dialogFormVisible(!0)})).catch((e=>{l.loading=!1})))}))},dialogFormVisible(e){e?this.$emit("closeDialog",{type:"success",openDialog:!1}):this.$emit("closeDialog",{type:"error",openDialog:!1})}}},[["render",function(e,d,r,h,c,g){const V=l,_=a,j=o,w=s,v=m,y=t,k=i;return u(),p(k,{title:"编辑消息",modelValue:c.dialogVisible,"onUpdate:modelValue":d[6]||(d[6]=e=>c.dialogVisible=e),onClose:g.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:f((()=>[n(y,{onClick:g.dialogFormVisible},{default:f((()=>[b("取 消")])),_:1},8,["onClick"]),n(y,{type:"primary",onClick:g.editMessage,loading:c.loading},{default:f((()=>[b("确 定")])),_:1},8,["onClick","loading"])])),default:f((()=>[n(v,{size:"small",model:r.form,ref:"form"},{default:f((()=>[n(_,{label:"消息名称","label-width":c.formLabelWidth,rules:[{required:!0,message:" "}],prop:"message_name"},{default:f((()=>[n(V,{modelValue:r.form.message_name,"onUpdate:modelValue":d[0]||(d[0]=e=>r.form.message_name=e),autocomplete:"off",placeholder:"请输入消息名称"},null,8,["modelValue"])])),_:1},8,["label-width"]),n(_,{label:"名称(英文唯一)","label-width":c.formLabelWidth,rules:[{required:!0,message:" "}],prop:"message_ename"},{default:f((()=>[n(V,{modelValue:r.form.message_ename,"onUpdate:modelValue":d[1]||(d[1]=e=>r.form.message_ename=e),autocomplete:"off",placeholder:"请输入消息英文名称"},null,8,["modelValue"])])),_:1},8,["label-width"]),n(_,{label:"通知对象","label-width":c.formLabelWidth},{default:f((()=>[n(w,{modelValue:r.form.message_to,"onUpdate:modelValue":d[2]||(d[2]=e=>r.form.message_to=e),placeholder:"请选择通知对象"},{default:f((()=>[n(j,{label:"会员",value:10}),n(j,{label:"商家",value:20}),n(j,{label:"供应商",value:30})])),_:1},8,["modelValue"])])),_:1},8,["label-width"]),n(_,{label:"消息类别","label-width":c.formLabelWidth},{default:f((()=>[n(w,{modelValue:r.form.message_type,"onUpdate:modelValue":d[3]||(d[3]=e=>r.form.message_type=e),placeholder:"请选择消息类别"},{default:f((()=>[n(j,{label:"订单",value:10}),n(j,{label:"分销",value:20}),n(j,{label:"通知",value:30})])),_:1},8,["modelValue"])])),_:1},8,["label-width"]),n(_,{label:"排序","label-width":c.formLabelWidth},{default:f((()=>[n(V,{modelValue:r.form.sort,"onUpdate:modelValue":d[4]||(d[4]=e=>r.form.sort=e),placeholder:"请输入数字"},null,8,["modelValue"])])),_:1},8,["label-width"]),n(_,{label:"备注","label-width":c.formLabelWidth},{default:f((()=>[n(V,{modelValue:r.form.remark,"onUpdate:modelValue":d[5]||(d[5]=e=>r.form.remark=e),autocomplete:"off",placeholder:"请输入备注"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue","onClose"])}]]);export{h as default};
