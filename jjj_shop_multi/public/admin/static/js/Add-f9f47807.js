import{f as s,j as e,e as o,h as a,s as i,v as t}from"./element-plus-a75e5680.js";import{b as l,g as r}from"./plugs-c2616104.js";import{_ as d}from"./index-07143257.js";import{E as p,J as m,K as c,o as n,S as u,R as g,_ as j,O as _,V as y}from"./@vue-5c89b57d.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-85afefd9.js";import"./dayjs-4d201c0d.js";import"./@element-plus-ef0dbc7a.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./request-8f5d2679.js";import"./axios-85bcd05e.js";import"./vue-router-2af8da50.js";import"./pinia-3964e703.js";import"./vue-demi-71ba0ef2.js";const f=d(p({props:["open_add","curModel"],setup(s){const e=m({form:{status:0,srot:1,plus_name:"",desc:"",ico:"",url:"index/index",sort:1},categoryList:[],srot:"1",radio:"1",formLabelWidth:"120px",dialogVisible:s.open_add,loading:!0,curModel:s.curModel}),o=async()=>{let s=e,o={plus_category_id:s.curModel.plus_category_id};const a=await r(o);s.loading=!1,s.categoryList=a.data.accessList};return o(),{...c(e),getCategoryList:o}},methods:{async addClick(e){let o=this,a={access_id:e.access_id,plus_category_id:o.curModel.plus_category_id};const i=await l(a);o.loading=!1,1==i.code?(s({message:"恭喜你，添加成功",type:"success"}),o.dialogFormVisible(!0)):(o.loading=!1,s.error("错了哦，这是一条错误消息"))},dialogFormVisible(s){s?this.$emit("closeDialog",{type:"success",openDialog:!1}):this.$emit("closeDialog",{type:"error",openDialog:!1})}}}),[["render",function(s,l,r,d,p,m){const c=e,f=o,b=a,h=i,V=t;return n(),u(h,{title:"添加插件",modelValue:s.dialogVisible,"onUpdate:modelValue":l[0]||(l[0]=e=>s.dialogVisible=e),onClose:s.dialogFormVisible},{default:g((()=>[j((n(),u(b,{size:"small",data:s.categoryList,border:"",style:{width:"100%"}},{default:g((()=>[_(c,{prop:"name",label:"名称"}),_(c,{prop:"name",label:"操作",width:"80"},{default:g((e=>[_(f,{onClick:o=>s.addClick(e.row),size:"small"},{default:g((()=>[y("添加")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[V,s.loading]])])),_:1},8,["modelValue","onClose"])}]]);export{f as default};
