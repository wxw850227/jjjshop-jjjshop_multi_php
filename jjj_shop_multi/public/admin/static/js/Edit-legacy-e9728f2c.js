System.register(["./element-plus-legacy-95e175d5.js","./access-legacy-243500ac.js","./index-legacy-9fdc119e.js","./@vue-legacy-3d9ca20c.js","./lodash-es-legacy-74aa31b9.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-67ffa4bd.js","./dayjs-legacy-503a1c3f.js","./@element-plus-legacy-c3efface.js","./@popperjs-legacy-876caf52.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./request-legacy-4433e622.js","./axios-legacy-40880ebd.js","./vue-router-legacy-af99759f.js","./pinia-legacy-54e74fbe.js","./vue-demi-legacy-97cfbb01.js"],(function(e,l){"use strict";var a,t,n,o,r,u,i,d,s,c,f,m,p,h,b,g,_,V,D;return{setters:[function(e){a=e.f,t=e.c,n=e.d,o=e.p,r=e.q,u=e.r,i=e.b,d=e.e,s=e.s},function(e){c=e.g},function(e){f=e._,m=e.d},function(e){p=e.o,h=e.S,b=e.R,g=e.O,_=e.V,V=e.X,D=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l={data:function(){return{loading:!1,formData:{name:"",path:"",views:"",alias:"",icon:"",is_menu:1,is_route:1,is_show:0,sort:1,parent_id:0},formRules:{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],path:[{required:!0,message:"请输入路径",trigger:"blur"}],views:[{required:!0,message:"请输入组件名称",trigger:"blur"}],alias:[{required:!0,message:"请输入别名",trigger:"blur"}]},parentsVal:[],accessList:[],srot:"1",formLabelWidth:"120px",dialogVisible:!1,propsParam:{label:"name",value:"access_id",checkStrictly:!0}}},props:{open_edit:Boolean,add_type:String,rawData:Array,selectModel:Object},created:function(){this.dialogVisible=this.open_edit,this.accessList=m(this.rawData),this.accessList.unshift({name:"顶级菜单",access_id:0}),this.formData=m(this.selectModel),this.findParentsID(this.accessList)},methods:{handleChange:function(e){},findParentsID:function(e){for(var l=!1,a=0;a<e.length;a++){var t=e[a];if(t.access_id==this.formData.parent_id){this.parentsVal.unshift(t.access_id),l=!0;break}var n=t.children;if(void 0!==n&&n.length>0&&this.findParentsID(n)){this.parentsVal.unshift(t.access_id),l=!0;break}}return l},onSubmit:function(){var e=this,l=e.formData;e.parentsVal.length>0&&(l.parent_id=e.parentsVal[e.parentsVal.length-1]),e.$refs.form.validate((function(t){t&&(e.loading=!0,c(l).then((function(t){1==t.code&&(a({message:t.msg,type:"success"}),e.$emit("closeDialog",{type:"success",openDialog:!1,data:l}),e.loading=!1)})).catch((function(l){e.loading=!1})))}))},dialogFormVisible:function(e){this.$emit("closeDialog",{type:"error",openDialog:!1})}}},y=D("p",null,"提示：对应前端给的文件路径，例如：index/index",-1),w=D("p",null,"提示：请选择系统提供的图标",-1);e("default",f(l,[["render",function(e,l,a,c,f,m){var D=t,j=n,v=o,L=r,k=u,U=i,W=d,C=s;return p(),h(C,{title:"修改菜单&权限",modelValue:f.dialogVisible,"onUpdate:modelValue":l[11]||(l[11]=function(e){return f.dialogVisible=e}),onClose:m.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:b((function(){return[g(W,{onClick:m.dialogFormVisible},{default:b((function(){return[_("取 消")]})),_:1},8,["onClick"]),g(W,{type:"primary",onClick:l[10]||(l[10]=function(e){return m.onSubmit()}),disabled:f.loading},{default:b((function(){return[_("确 定")]})),_:1},8,["disabled"])]})),default:b((function(){return[g(U,{size:"small",model:f.formData,rules:f.formRules,ref:"form"},{default:b((function(){return[g(j,{label:"菜单名称",prop:"name","label-width":f.formLabelWidth},{default:b((function(){return[g(D,{modelValue:f.formData.name,"onUpdate:modelValue":l[0]||(l[0]=function(e){return f.formData.name=e}),autocomplete:"off",placeholder:"请输入菜单名称"},null,8,["modelValue"])]})),_:1},8,["label-width"]),g(j,{label:"类型",prop:"name","label-width":f.formLabelWidth},{default:b((function(){return[g(L,{modelValue:f.formData.is_route,"onUpdate:modelValue":l[1]||(l[1]=function(e){return f.formData.is_route=e})},{default:b((function(){return[g(v,{label:1},{default:b((function(){return[_("页面")]})),_:1}),g(v,{label:0},{default:b((function(){return[_("按钮")]})),_:1}),g(v,{label:2},{default:b((function(){return[_("独立单页面")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),g(j,{label:"上级菜单",prop:"parent_id","label-width":f.formLabelWidth},{default:b((function(){return[g(k,{size:"small",modelValue:f.parentsVal,"onUpdate:modelValue":l[2]||(l[2]=function(e){return f.parentsVal=e}),options:f.accessList,props:f.propsParam,onChange:m.handleChange},null,8,["modelValue","options","props","onChange"])]})),_:1},8,["label-width"]),g(j,{label:"路径",prop:"path","label-width":f.formLabelWidth},{default:b((function(){return[g(D,{modelValue:f.formData.path,"onUpdate:modelValue":l[3]||(l[3]=function(e){return f.formData.path=e}),autocomplete:"off",placeholder:"请输入组件文件路径",disabled:"/plus"==f.formData.path},null,8,["modelValue","disabled"]),y]})),_:1},8,["label-width"]),g(j,{label:"图标","label-width":f.formLabelWidth},{default:b((function(){return[g(D,{modelValue:f.formData.icon,"onUpdate:modelValue":l[4]||(l[4]=function(e){return f.formData.icon=e}),autocomplete:"off",placeholder:"请输入icon"},null,8,["modelValue"]),w]})),_:1},8,["label-width"]),1==f.formData.is_route?(p(),h(j,{key:0,label:"是否是菜单","label-width":f.formLabelWidth},{default:b((function(){return[g(L,{modelValue:f.formData.is_menu,"onUpdate:modelValue":l[5]||(l[5]=function(e){return f.formData.is_menu=e})},{default:b((function(){return[g(v,{label:1},{default:b((function(){return[_("是")]})),_:1}),g(v,{label:0},{default:b((function(){return[_("否")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"])):V("",!0),g(j,{label:"是否显示","label-width":f.formLabelWidth},{default:b((function(){return[g(L,{modelValue:f.formData.is_show,"onUpdate:modelValue":l[6]||(l[6]=function(e){return f.formData.is_show=e})},{default:b((function(){return[g(v,{label:1},{default:b((function(){return[_("是")]})),_:1}),g(v,{label:0},{default:b((function(){return[_("否")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1},8,["label-width"]),1==f.formData.is_route?(p(),h(j,{key:1,label:"重定向","label-width":f.formLabelWidth},{default:b((function(){return[g(D,{modelValue:f.formData.redirect_name,"onUpdate:modelValue":l[7]||(l[7]=function(e){return f.formData.redirect_name=e}),autocomplete:"off",placeholder:"请输入重定向地址"},null,8,["modelValue"])]})),_:1},8,["label-width"])):V("",!0),g(j,{label:"备注",prop:"sort","label-width":f.formLabelWidth},{default:b((function(){return[g(D,{modelValue:f.formData.remark,"onUpdate:modelValue":l[8]||(l[8]=function(e){return f.formData.remark=e}),placeholder:"请输入备注",type:"textarea"},null,8,["modelValue"])]})),_:1},8,["label-width"]),g(j,{label:"排序",prop:"sort","label-width":f.formLabelWidth},{default:b((function(){return[g(D,{modelValue:f.formData.sort,"onUpdate:modelValue":l[9]||(l[9]=function(e){return f.formData.sort=e}),placeholder:"请输入排序",type:"number"},null,8,["modelValue"])]})),_:1},8,["label-width"])]})),_:1},8,["model","rules"])]})),_:1},8,["modelValue","onClose"])}]]))}}}));
