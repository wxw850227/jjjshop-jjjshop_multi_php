import{f as e,c as l,d as o,n as a,o as t,b as s,e as i,s as d}from"./element-plus-a75e5680.js";import{p as r,e as m}from"./plugs-0de52908.js";import{_ as u}from"./index-88c54a2c.js";import{o as p,S as n,R as f,O as c,c as h,P as b,a8 as g,a as V,V as _}from"./@vue-5c89b57d.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-85afefd9.js";import"./dayjs-4d201c0d.js";import"./@element-plus-ef0dbc7a.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./request-5f88d5f5.js";import"./axios-85bcd05e.js";import"./vue-router-2af8da50.js";import"./pinia-3964e703.js";import"./vue-demi-71ba0ef2.js";const j={slot:"footer",class:"dialog-footer"};const L=u({data:()=>({categoryList:[],formLabelWidth:"120px",dialogVisible:!1,loading:!1}),props:["open_edit","form"],created(){this.dialogVisible=this.open_edit,this.getCategoryList()},methods:{getCategoryList(){let e=this;r({}).then((l=>{e.loading=!1,e.categoryList=l.data.accessList})).catch((e=>{}))},editPlugs(){let l=this,o=this.form;l.$refs.form.validate((a=>{a&&(l.loading=!0,m(o).then((o=>{l.loading=!1,e({message:"恭喜你，修改成功",type:"success"}),l.dialogFormVisible(!0)})).catch((e=>{})))}))},dialogFormVisible(e){e?this.$emit("closeDialog",{type:"success",openDialog:!1}):this.$emit("closeDialog",{type:"error",openDialog:!1})}}},[["render",function(e,r,m,u,L,w){const y=l,v=o,C=a,U=t,k=s,W=i,x=d;return p(),n(x,{title:"编辑插件",modelValue:L.dialogVisible,"onUpdate:modelValue":r[6]||(r[6]=e=>L.dialogVisible=e),onClose:w.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:f((()=>[c(k,{size:"small",model:m.form,ref:"form"},{default:f((()=>[c(v,{label:"插件名称","label-width":L.formLabelWidth,rules:[{required:!0,message:" "}],prop:"plus_name"},{default:f((()=>[c(y,{modelValue:m.form.plus_name,"onUpdate:modelValue":r[0]||(r[0]=e=>m.form.plus_name=e),autocomplete:"off",placeholder:"请输入插件名称"},null,8,["modelValue"])])),_:1},8,["label-width"]),c(v,{label:"插件描述","label-width":L.formLabelWidth},{default:f((()=>[c(y,{modelValue:m.form.desc,"onUpdate:modelValue":r[1]||(r[1]=e=>m.form.desc=e),autocomplete:"off",placeholder:"请输入插件描述"},null,8,["modelValue"])])),_:1},8,["label-width"]),c(v,{label:"ico图标","label-width":L.formLabelWidth,rules:[{required:!0,message:" "}],prop:"ico"},{default:f((()=>[c(y,{modelValue:m.form.ico,"onUpdate:modelValue":r[2]||(r[2]=e=>m.form.ico=e),autocomplete:"off",placeholder:"请输入图标名名称"},null,8,["modelValue"])])),_:1},8,["label-width"]),c(v,{label:"插件分类","label-width":L.formLabelWidth},{default:f((()=>[c(U,{modelValue:m.form.parent_id,"onUpdate:modelValue":r[3]||(r[3]=e=>m.form.parent_id=e),placeholder:"请选择分类"},{default:f((()=>[c(C,{label:"顶级分类",value:0}),(p(!0),h(b,null,g(L.categoryList,((e,l)=>(p(),n(C,{key:l,label:e.plus_name,value:e.plus_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label-width"]),c(v,{label:"插件URL","label-width":L.formLabelWidth},{default:f((()=>[c(y,{modelValue:m.form.url,"onUpdate:modelValue":r[4]||(r[4]=e=>m.form.url=e),autocomplete:"off",placeholder:"例如：index/index"},null,8,["modelValue"])])),_:1},8,["label-width"]),c(v,{label:"排序","label-width":L.formLabelWidth,rules:[{required:!0,message:" "}],prop:"sort"},{default:f((()=>[c(y,{modelValue:m.form.sort,"onUpdate:modelValue":r[5]||(r[5]=e=>m.form.sort=e),placeholder:"请输入数字"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"]),V("div",j,[c(W,{onClick:w.dialogFormVisible},{default:f((()=>[_("取 消")])),_:1},8,["onClick"]),c(W,{type:"primary",onClick:w.editPlugs,loading:L.loading},{default:f((()=>[_("确 定")])),_:1},8,["onClick","loading"])])])),_:1},8,["modelValue","onClose"])}]]);export{L as default};
