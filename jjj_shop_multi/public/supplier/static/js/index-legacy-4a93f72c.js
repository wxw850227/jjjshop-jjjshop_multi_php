System.register(["./element-plus-legacy-257d6f76.js","./product-legacy-a554960e.js","./index-legacy-40e126b0.js","./@vue-legacy-22137cea.js","./lodash-es-legacy-74aa31b9.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-f51a040e.js","./dayjs-legacy-455cbe2f.js","./call-bind-legacy-ce7de972.js","./get-intrinsic-legacy-675d089b.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-8d596841.js","./escape-html-legacy-89f0c831.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./vue-router-legacy-921da64f.js","./pinia-legacy-71de3e62.js","./axios-legacy-d06d9fd6.js","./vue-ueditor-wrap-legacy-b0e85f37.js","./qs-legacy-0ee9e797.js","./side-channel-legacy-bc002aec.js","./object-inspect-legacy-76ba9711.js"],(function(e,t){"use strict";var a,l,n,u,r,c,i,o,s,d,p,f,m,g,y,_,h,k,v,b,C,z,j,w,S,D,N,P,V,x,F,q,$;return{setters:[function(e){a=e.a,l=e.E,n=e.u,u=e.q,r=e.r,c=e.n,i=e.o,o=e.e,s=e.d,d=e.f,p=e.c,f=e.i,m=e.j,g=e.k,y=e.v},function(e){_=e.p,h=e.m,k=e.n},function(e){v=e._},function(e){b=e.an,C=e.o,z=e.c,j=e.a,w=e.P,S=e.S,D=e.W,N=e.X,P=e.Q,V=e.a9,x=e.T,F=e.$,q=e.Y,$=e.ak},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t={class:"product-list"},L={class:"common-seach-wrap"},T={key:0,class:"common-level-rail"},U={key:1,class:"common-level-rail"},E={key:0,class:"red pl16"},I={key:1,class:"red pl16"},Q={class:"product-content"},W={class:"table-wrap"},X={class:"product-info"},Y={class:"pic"},A={alt:""},B={class:"info"},G={class:"name"},H={class:"price"},J={key:0,class:"price"},K={key:1,class:"price"},M={key:0},O={key:1,class:"green"},R={class:"table-btn-column"},Z={class:"pagination"};e("default",v({components:{},data:function(){return{activeName:"sell",activeIndex:"0",loading:!0,pageSize:10,totalDataNumber:0,curPage:1,searchForm:{product_name:"",category_id:""},tableData:[],categoryList:[],supplier:[],product_count:{}}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){var t=this;t.loading=!0,t.curPage=e,t.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleClick:function(e,t){this.curPage=1,this.getData()},getData:function(){var e=this,t=e.searchForm;t.page=e.curPage,t.list_rows=e.pageSize,t.type=e.activeName,e.loading=!0,_(t).then((function(t){e.loading=!1,e.tableData=t.data.list.data,e.categoryList=t.data.category,e.totalDataNumber=t.data.list.total,e.supplier=t.data.supplier,e.product_count=t.data.product_count})).catch((function(t){e.loading=!1}))},onSubmit:function(){this.curPage=1,this.getData()},addClick:function(){this.$router.push("/product/product/add")},editClick:function(e){this.$router.push({path:"/product/product/edit",query:{product_id:e.product_id,scene:"edit"}})},copyClick:function(e){this.$router.push({path:"/product/product/edit",query:{product_id:e.product_id,scene:"copy"}})},delClick:function(e){var t=this,n="";n=30==e.product_status?"删除后不可恢复，确认删除该记录吗?":"删除后将移动到回收站，确定删除该记录吗?",a.confirm(n,"提示",{type:"warning"}).then((function(){h({product_id:e.product_id}).then((function(e){l({message:"删除成功",type:"success"}),t.getData()}))}))},changeStatus:function(e,t){var n=this,u="";10==t?u="确认要上架该商品吗?":(u="确认要下架该商品吗?","recovery"==n.activeName&&(u="确认要移动该商品到仓库吗?")),a.confirm(u,"提示",{type:"warning"}).then((function(){k({product_id:e.product_id,state:t}).then((function(e){l({message:"操作成功",type:"success"}),n.getData()}))}))}}},[["render",function(e,a,l,_,h,k){var v=n,ee=u,te=r,ae=c,le=i,ne=o,ue=s,re=d,ce=p,ie=f,oe=m,se=g,de=b("auth"),pe=b("img-url"),fe=y;return C(),z("div",t,[j("div",L,[w(te,{modelValue:h.activeName,"onUpdate:modelValue":a[0]||(a[0]=function(e){return h.activeName=e}),onTabChange:k.handleClick},{default:S((function(){return[w(ee,{label:"出售中",name:"sell"},{label:S((function(){return[j("span",null,[D("出售中 "),w(v,{size:"small"},{default:S((function(){return[D(N(h.product_count.sell),1)]})),_:1})])]})),_:1}),w(ee,{label:"仓库中",name:"lower"},{label:S((function(){return[j("span",null,[D("仓库中 "),w(v,{size:"small"},{default:S((function(){return[D(N(h.product_count.lower),1)]})),_:1})])]})),_:1}),w(ee,{label:"回收站",name:"recovery"},{label:S((function(){return[j("span",null,[D("回收站 "),w(v,{size:"small"},{default:S((function(){return[D(N(h.product_count.recovery),1)]})),_:1})])]})),_:1}),w(ee,{label:"库存紧张",name:"stock"},{label:S((function(){return[j("span",null,[D("库存紧张 "),w(v,{size:"small"},{default:S((function(){return[D(N(h.product_count.stock),1)]})),_:1})])]})),_:1}),w(ee,{label:"草稿箱",name:"draft"},{label:S((function(){return[j("span",null,[D("草稿箱 "),w(v,{size:"small"},{default:S((function(){return[D(N(h.product_count.draft),1)]})),_:1})])]})),_:1}),w(ee,{label:"待审核",name:"audit"},{label:S((function(){return[j("span",null,[D("待审核 "),w(v,{size:"small"},{default:S((function(){return[D(N(h.product_count.audit),1)]})),_:1})])]})),_:1}),w(ee,{label:"未通过",name:"no_audit"},{label:S((function(){return[j("span",null,[D("未通过 "),w(v,{size:"small"},{default:S((function(){return[D(N(h.product_count.no_audit),1)]})),_:1})])]})),_:1})]})),_:1},8,["modelValue","onTabChange"]),w(ce,{size:"small",inline:!0,model:h.searchForm,class:"demo-form-inline"},{default:S((function(){return[w(ne,{label:"商品分类"},{default:S((function(){return[w(le,{size:"small",modelValue:h.searchForm.category_id,"onUpdate:modelValue":a[1]||(a[1]=function(e){return h.searchForm.category_id=e}),placeholder:"所有分类"},{default:S((function(){return[w(ae,{label:"全部",value:"0"}),(C(!0),z(P,null,V(h.categoryList,(function(e,t){return C(),x(ae,{key:t,label:e.name,value:e.category_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),w(ne,{label:"商品名称"},{default:S((function(){return[w(ue,{size:"small",modelValue:h.searchForm.product_name,"onUpdate:modelValue":a[2]||(a[2]=function(e){return h.searchForm.product_name=e}),placeholder:"请输入商品名称"},null,8,["modelValue"])]})),_:1}),w(ne,null,{default:S((function(){return[w(re,{size:"small",type:"primary",icon:"Search",onClick:k.onSubmit},{default:S((function(){return[D("查询")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),0==h.supplier.status?(C(),z("div",T,[F((C(),x(re,{size:"small",type:"primary",icon:"Plus",onClick:k.addClick},{default:S((function(){return[D("添加产品")]})),_:1},8,["onClick"])),[[de,"/product/product/add"]])])):q("",!0),0!=h.supplier.status?(C(),z("div",U,[F((C(),x(re,{size:"small",type:"primary",icon:"Plus",disabled:"true"},{default:S((function(){return[D("添加产品")]})),_:1})),[[de,"/product/product/add"]]),10==h.supplier.status?(C(),z("span",E,"正在退保证金")):q("",!0),20==h.supplier.status?(C(),z("span",I,"未交纳保证金，请到移动端交纳")):q("",!0)])):q("",!0),j("div",Q,[j("div",W,[F((C(),x(oe,{size:"small",data:h.tableData,border:"",style:{width:"100%"}},{default:S((function(){return[w(ie,{prop:"product_name",label:"产品",width:"400px"},{default:S((function(e){return[j("div",X,[j("div",Y,[F(j("img",A,null,512),[[pe,e.row.image[0].file_path]])]),j("div",B,[j("div",G,N(e.row.product_name),1),j("div",H,"￥"+N(e.row.product_price),1),20==e.row.audit_status?(C(),z("div",J," 未通过原因："+N(e.row.audit_remark),1)):q("",!0),30==e.row.audit_status?(C(),z("div",K," 强制下架："+N(e.row.audit_remark),1)):q("",!0)])])]})),_:1}),w(ie,{prop:"category.name",label:"分类"}),w(ie,{prop:"sales_actual",label:"实际销量"}),w(ie,{prop:"product_stock",label:"库存"}),w(ie,{prop:"view_times",label:"点击数"}),w(ie,{prop:"product_status.text",label:"商品属性"},{default:S((function(e){return[0==e.row.is_virtual?(C(),z("span",M,"实物商品")):q("",!0),1==e.row.is_virtual?(C(),z("span",O,"虚拟商品")):q("",!0)]})),_:1}),w(ie,{prop:"create_time",label:"发布时间"}),w(ie,{prop:"product_sort",label:"排序"}),w(ie,{fixed:"right",label:"操作",width:"80"},$({_:2},[0==h.supplier.status?{name:"default",fn:S((function(e){return[j("div",R,[F((C(),x(re,{onClick:function(t){return k.editClick(e.row)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("编辑商品")]})),_:2},1032,["onClick"])),[[de,"/product/product/edit"]]),F((C(),x(re,{onClick:function(t){return k.delClick(e.row)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("删除商品")]})),_:2},1032,["onClick"])),[[de,"/product/product/delete"]]),"sell"==h.activeName?F((C(),x(re,{key:0,onClick:function(t){return k.changeStatus(e.row,20)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("立即下架")]})),_:2},1032,["onClick"])),[[de,"/product/product/state"]]):q("",!0),"lower"==h.activeName?F((C(),x(re,{key:1,onClick:function(t){return k.changeStatus(e.row,10)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("立即上架")]})),_:2},1032,["onClick"])),[[de,"/product/product/state"]]):q("",!0),"recovery"==h.activeName?F((C(),x(re,{key:2,onClick:function(t){return k.changeStatus(e.row,20)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("恢复")]})),_:2},1032,["onClick"])),[[de,"/product/product/state"]]):q("",!0),F((C(),x(re,{onClick:function(t){return k.copyClick(e.row)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("一键复制")]})),_:2},1032,["onClick"])),[[de,"/product/product/copy"]])])]})),key:"0"}:void 0]),1024)]})),_:1},8,["data"])),[[fe,h.loading]])])]),j("div",Z,[w(se,{onSizeChange:k.handleSizeChange,onCurrentChange:k.handleCurrentChange,background:"","current-page":h.curPage,"page-size":h.pageSize,layout:"total, prev, pager, next, jumper",total:h.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])}]]))}}}));
