import{_ as e}from"./Upload-c4f46615.js";import{s as o,t,e as a,B as l}from"./element-plus-1d28f1d0.js";import{_ as s}from"./index-3957abef.js";import{K as i,w as n,L as m,ae as r,o as d,c as u,P as p,T as c,S as g,W as f,Y as h,an as j,a as _,$ as b,a1 as v}from"./@vue-fcfaff04.js";import{d as I}from"./vuedraggable-392a59b1.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-28c84072.js";import"./dayjs-3f6c138b.js";import"./call-bind-a6dd5c06.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-6c014c7f.js";import"./escape-html-d3e23fdb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-0cda4647.js";import"./pinia-234ab43f.js";import"./axios-63583d02.js";import"./vue-ueditor-wrap-33bac798.js";import"./qs-edfbe083.js";import"./side-channel-6da5de8a.js";import"./object-inspect-66d569d0.js";import"./vue-de83683b.js";import"./sortablejs-808289a9.js";const k={components:{Uediter:s({components:{Upload:e},props:["text"],setup(e,{emit:o}){const t=i({msg:e.text,editor:null,isupload:!1,hasCallback:!1,callback:null,this_config:{autoFloatEnabled:!1}});return n((()=>t.msg),(e=>{o("contentChange",e)})),{...m(t)}},methods:{ready(){window.openUpload=this.openUpload},openUpload:function(e){this.isupload=!0,e&&(this.hasCallback=!0,this.callback=e)},returnImgsFunc(e){null!=e&&this.hasCallback&&this.callback(e),this.isupload=!1}}},[["render",function(o,t,a,l,s,i){const n=r("vue-ueditor-wrap"),m=e;return d(),u("div",null,[p(n,{modelValue:o.msg,"onUpdate:modelValue":t[0]||(t[0]=e=>o.msg=e),config:o.this_config,"editor-id":"editor-demo-01",onReady:i.ready},null,8,["modelValue","config","onReady"]),o.isupload?(d(),c(m,{key:0,config:{total:9},isupload:o.isupload,onReturnImgs:i.returnImgsFunc},{default:g((()=>[f("上传图片")])),_:1},8,["isupload","onReturnImgs"])):h("",!0)])}]]),Upload:e,draggable:I},data:()=>({ueditor:{text:"",config:{initialFrameWidth:400,initialFrameHeight:500}},is_upload:!1,config:{total:9,file_type:"image"}}),created(){},inject:["form"],methods:{getContent:function(){},contentChangeFunc(e){this.form.model.content=e},openUpload(){this.is_upload=!0},returnImgsFunc(e){if(null!=e){let o=this.form.model.contentImage.concat(e);this.form.model.contentImage=JSON.parse(JSON.stringify(o))}this.is_upload=!1},deleteImg(e){this.form.model.contentImage.splice(e,1)}}},y=_("div",{class:"common-form"},"商品详情",-1),C={class:"edit_container"},U={class:"draggable-list"},x={class:"item"},F=["onClick"];const V=s(k,[["render",function(s,i,n,m,I,k){const V=o,w=t,R=a,S=r("Uediter"),q=r("Delete"),J=l,N=r("draggable"),O=r("Plus"),P=e,W=j("img-url");return d(),u("div",null,[y,p(R,{label:"详情类型："},{default:g((()=>[p(w,{modelValue:k.form.model.is_picture,"onUpdate:modelValue":i[0]||(i[0]=e=>k.form.model.is_picture=e)},{default:g((()=>[p(V,{label:0},{default:g((()=>[f("图文")])),_:1}),p(V,{label:1},{default:g((()=>[f("纯图")])),_:1})])),_:1},8,["modelValue"])])),_:1}),0==k.form.model.is_picture?(d(),c(R,{key:0,label:"详情内容："},{default:g((()=>[_("div",C,[p(S,{text:k.form.model.content,config:I.ueditor.config,ref:"ue",onContentChange:k.contentChangeFunc},null,8,["text","config","onContentChange"])])])),_:1})):h("",!0),1==k.form.model.is_picture?(d(),c(R,{key:1,label:"详情图片："},{default:g((()=>[_("div",U,[k.form.model.contentImage&&k.form.model.contentImage.length>0?(d(),c(N,{key:0,modelValue:k.form.model.contentImage,"onUpdate:modelValue":i[1]||(i[1]=e=>k.form.model.contentImage=e),group:"specContent","item-key":"id",class:"draggable-list"},{item:g((({element:e,index:o})=>[_("div",x,[b(_("img",null,null,512),[[W,e.file_path]]),_("a",{href:"javascript:void(0);",class:"delete-btn",onClick:v((e=>k.deleteImg(o)),["stop"])},[p(J,null,{default:g((()=>[p(q)])),_:1})],8,F)])])),_:1},8,["modelValue"])):h("",!0),_("div",{class:"item img-select",onClick:i[2]||(i[2]=(...e)=>k.openUpload&&k.openUpload(...e))},[p(J,null,{default:g((()=>[p(O)])),_:1})])])])),_:1})):h("",!0),I.is_upload?(d(),c(P,{key:2,config:I.config,isupload:I.is_upload,onReturnImgs:k.returnImgsFunc},{default:g((()=>[f("上传图片")])),_:1},8,["config","isupload","onReturnImgs"])):h("",!0)])}]]);export{V as default};
