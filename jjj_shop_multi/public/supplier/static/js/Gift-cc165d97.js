import{i as e,j as a,k as t,l as s,v as i}from"./element-plus-1d28f1d0.js";import{b as o}from"./live-3b6ef13c.js";import{_ as r}from"./index-3957abef.js";import{o as l,T as n,S as p,a as d,$ as m,P as c}from"./@vue-fcfaff04.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-28c84072.js";import"./dayjs-3f6c138b.js";import"./call-bind-a6dd5c06.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-6c014c7f.js";import"./escape-html-d3e23fdb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-0cda4647.js";import"./pinia-234ab43f.js";import"./axios-63583d02.js";import"./vue-ueditor-wrap-33bac798.js";import"./qs-edfbe083.js";import"./side-channel-6da5de8a.js";import"./object-inspect-66d569d0.js";const g={data:()=>({loading:!0,curPage:1,pageSize:15,totalDataNumber:0,tableData:[],dialogVisible:!1}),props:{is_open:Boolean,curModel:Object},watch:{is_open:function(e,a){e!=a&&e&&(this.dialogVisible=e,e&&this.getTableList())}},created(){},methods:{handleCurrentChange(e){this.curPage=e,this.getTableList()},handleSizeChange(e){this.curPage=1,this.pageSize=e,this.getTableList()},getTableList(){let e=this;e.loading=!0;let a={};a.page=e.curPage,a.list_rows=e.pageSize,a.room_id=e.curModel.room_id,o(a).then((a=>{e.loading=!1,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total,e.gradeList=a.data.grade})).catch((a=>{e.loading=!1}))},cancelFunc(e){this.$emit("close",{type:"error"})}}},u={class:"product-content"},h={class:"table-wrap"},j={class:"pagination"};const b=r(g,[["render",function(o,r,g,b,C,z){const v=e,f=a,S=t,_=s,w=i;return l(),n(_,{title:"查看礼物排行",modelValue:C.dialogVisible,"onUpdate:modelValue":r[0]||(r[0]=e=>C.dialogVisible=e),onClose:z.cancelFunc,"close-on-press-escape":!1,width:"800px"},{default:p((()=>[d("div",u,[d("div",h,[m((l(),n(f,{data:C.tableData,size:"small",border:"",style:{width:"100%"}},{default:p((()=>[c(v,{prop:"user.nickName",label:"用户名"}),c(v,{prop:"gift_num",label:"礼物数"})])),_:1},8,["data"])),[[w,C.loading]])]),d("div",j,[c(S,{onSizeChange:z.handleSizeChange,onCurrentChange:z.handleCurrentChange,background:"","current-page":C.curPage,"page-sizes":[2,10,20,50,100],"page-size":C.pageSize,layout:"total, prev, pager, next, jumper",total:C.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])),_:1},8,["modelValue","onClose"])}]]);export{b as default};
