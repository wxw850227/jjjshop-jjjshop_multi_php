import{d as a,n as e,o as s,f as l,l as t,E as d,h as r,g as i,i as o,j as n,s as c,e as p,c as u,v as _}from"./element-plus-1d28f1d0.js";import{a as m}from"./data-72b673e3.js";import{_ as v,n as y}from"./index-3957abef.js";import{o as f,T as g,S as b,P as h,W as k,c as x,Q as V,a9 as C,Y as w,ae as D,an as j,$ as z,a as L,X as S,M as U}from"./@vue-fcfaff04.js";import{o as P,d as A,c as $,e as F,v as q,u as M}from"./order-c84ec710.js";import E from"./Add-f7067a56.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-28c84072.js";import"./dayjs-3f6c138b.js";import"./call-bind-a6dd5c06.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-6c014c7f.js";import"./escape-html-d3e23fdb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-0cda4647.js";import"./pinia-234ab43f.js";import"./axios-63583d02.js";import"./vue-ueditor-wrap-33bac798.js";import"./qs-edfbe083.js";import"./side-channel-6da5de8a.js";import"./object-inspect-66d569d0.js";const I=v({data:()=>({dialogVisible:!1,type:"error",params:null,reverse:!1,order_id:0,activities:[],areaList:[],address:{name:"",phone:"",region:{province:"",province_id:"",city:"",city_id:"",region:"",region_id:"",detail:""}}}),props:["isChange","addressData"],watch:{isChange:function(a,e){a!=e&&(this.dialogVisible=a,this.type="error")}},mounted(){this.getData()},methods:{getData(){let a=this;m({}).then((e=>{a.areaList=e.data.regionData})).catch((a=>{}))},initCity(){this.addressData.city_id=""},initRegion(){this.addressData.region_id=""},dialogFormVisible(a){a?this.$emit("closeDialog",{type:this.type,openDialog:!1,params:this.addressData}):this.$emit("closeDialog",!1)}}},[["render",function(d,r,i,o,n,c){const p=a,u=e,_=s,m=l,v=t;return f(),g(v,{title:"修改地址",modelValue:n.dialogVisible,"onUpdate:modelValue":r[8]||(r[8]=a=>n.dialogVisible=a),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:b((()=>[h(m,{size:"small",onClick:r[6]||(r[6]=a=>c.dialogFormVisible(!1))},{default:b((()=>[k("取 消")])),_:1}),h(m,{size:"small",type:"primary",onClick:r[7]||(r[7]=a=>c.dialogFormVisible(!0))},{default:b((()=>[k("确 定")])),_:1})])),default:b((()=>[h(p,{class:"mb16",size:"small",modelValue:i.addressData.name,"onUpdate:modelValue":r[0]||(r[0]=a=>i.addressData.name=a),placeholder:"请输入收货人"},null,8,["modelValue"]),h(p,{class:"mb16",size:"small",modelValue:i.addressData.phone,"onUpdate:modelValue":r[1]||(r[1]=a=>i.addressData.phone=a),placeholder:"请输入收获电话"},null,8,["modelValue"]),h(_,{class:"mb16",modelValue:i.addressData.province_id,"onUpdate:modelValue":r[2]||(r[2]=a=>i.addressData.province_id=a),placeholder:"省",onChange:c.initCity},{default:b((()=>[(f(!0),x(V,null,C(n.areaList,((a,e)=>(f(),g(u,{label:a.name,value:a.id,key:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),""!=i.addressData.province_id?(f(),g(_,{key:0,class:"mb16 ml10",modelValue:i.addressData.city_id,"onUpdate:modelValue":r[3]||(r[3]=a=>i.addressData.city_id=a),placeholder:"市",onChange:c.initRegion},{default:b((()=>[(f(!0),x(V,null,C(n.areaList[i.addressData.province_id].city,((a,e)=>(f(),g(u,{label:a.name,value:a.id,key:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])):w("",!0),""!=i.addressData.city_id?(f(),g(_,{key:1,class:"mb16 ml10",modelValue:i.addressData.region_id,"onUpdate:modelValue":r[4]||(r[4]=a=>i.addressData.region_id=a),placeholder:"区"},{default:b((()=>[(f(!0),x(V,null,C(n.areaList[i.addressData.province_id].city[i.addressData.city_id].region,((a,e)=>(f(),g(u,{label:a.name,value:a.id,key:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):w("",!0),h(p,{class:"mb16",size:"small",modelValue:i.addressData.detail,"onUpdate:modelValue":r[5]||(r[5]=a=>i.addressData.detail=a),placeholder:"请输入详细地址"},null,8,["modelValue"])])),_:1},8,["modelValue"])}]]),N={components:{Add:E,changeAddress:I},data:()=>({active:0,loading:!0,detail:{pay_status:[],pay_type:[],delivery_type:[],user:{},address:[],product:[],order_status:[],extract:[],extract_store:[],express:[],delivery_status:[],extractClerk:[]},open_add:!1,pageSize:20,totalDataNumber:0,curPage:1,form:{express_id:null,express_no:""},forms:{is_cancel:1},extract_form:{order:{extract_status:1}},virtual_form:{virtual_content:""},order:{},delivery_type:0,exStyle:[],shopList:[],userModel:{},create_time:"",expressList:[],shopClerkList:[],open_edit:!1,isChange:!1,addressData:{name:"",phone:"",region:{province:"",province_id:0,city:"",city_id:0,region:"",region_id:0,detail:""}}}),created(){this.getParams()},methods:{next(){this.active++>4&&(this.active=0)},getParams(){let a=this;const e=this.$route.query.order_id;P({order_id:e}).then((e=>{a.loading=!1,a.detail=e.data.detail,a.expressList=e.data.expressList,a.shopClerkList=e.data.shopClerkList,a.addressData=a.detail.address})).catch((e=>{a.loading=!1}))},onSubmit(){let a=this,e=a.form;if(null==e.express_id)return void d.error("请选择物流公司");if(""==e.express_no)return void d.error("请填写物流单号");let s=this.$route.query.order_id;A({param:e,order_id:s}).then((e=>{a.loading=!1,d({message:"恭喜你，发货成功",type:"success"}),a.getParams()})).catch((e=>{a.loading=!1}))},confirmCancel(){let a=this,e=this.$route.query.order_id,s=a.forms.is_cancel;$({order_id:e,is_cancel:s}).then((e=>{a.loading=!1,d({message:"恭喜你，审核成功",type:"success"}),a.getParams()})).catch((e=>{a.loading=!1}))},onExtract(a){let e=this,s=e.extract_form;s.order_id=a,F({extract_form:s}).then((a=>{e.loading=!1,d({message:"恭喜你，操作成功",type:"success"}),e.getParams()})).catch((a=>{e.loading=!1}))},onVirtual(a){let e=this,s=e.virtual_form;""!=s.virtual_content?(s.order_id=a,q({order_id:s.order_id,virtual_content:s.virtual_content}).then((a=>{e.loading=!1,d({message:"恭喜你，操作成功",type:"success"}),e.getParams()})).catch((a=>{e.loading=!1}))):d.error("请填写发货信息")},editClick(a){this.userModel=y(a),this.open_edit=!0},closeDialogFunc(a,e){a&&"edit"==a&&(this.open_edit=a.openDialog,this.getParams())},cancelFunc(){this.$router.back(-1)},changeAdd(){this.isChange=!0},closeAddress(a){let e=this;if(0==a)return e.isChange=!1,!1;let s=a.params;s.order_id=e.$route.query.order_id,M(s).then((a=>{d({message:"修改成功",type:"success"})})).catch((a=>{})),e.isChange=!1}}},O={class:"pb50"},R={class:"product-content"},K=L("div",{class:"common-form"},"基本信息",-1),Q={class:"table-wrap"},T={class:"pb16"},W=L("span",{class:"gray9"},"订单号：",-1),X={class:"pb16"},Y=L("span",{class:"gray9"},"买家：",-1),B={class:"pb16"},G=L("span",{class:"gray9"},"订单金额 (元)：",-1),H={class:"pb16"},J=L("span",{class:"gray9"},"运费金额 (元)：",-1),Z={key:0,class:"pb16"},aa=L("span",{class:"gray9"},"优惠券抵扣 (元)：",-1),ea={key:0,class:"pb16"},sa=L("span",{class:"gray9"},"积分抵扣 (元)：",-1),la={key:0,class:"pb16"},ta=L("span",{class:"gray9"},"满减金额 (元)：",-1),da={class:"pb16"},ra=L("span",{class:"gray9"},"定金：",-1),ia={class:"pb16"},oa=L("span",{class:"gray9"},"尾款：",-1),na={class:"pb16"},ca=L("span",{class:"gray9"},"尾款立减：",-1),pa={class:"pb16"},ua=L("span",{class:"gray9"},"实付款金额 (元)：",-1),_a={class:"pb16"},ma=L("span",{class:"gray9"},"支付方式：",-1),va={class:"pb16"},ya=L("span",{class:"gray9"},"配送方式：",-1),fa={class:"pb16"},ga=L("span",{class:"gray9"},"交易状态：",-1),ba=L("div",{class:"common-form mt16"},"商品信息",-1),ha={class:"table-wrap"},ka={class:"product-info"},xa={class:"pic"},Va={class:"info"},Ca={class:"name"},wa={key:0,class:"gray9"},Da={key:1,class:"orange"},ja={class:"price"},za={key:0,class:"ml10"},La={key:1},Sa=L("div",{class:"common-form mt16"},"收货信息",-1),Ua={class:"table-wrap"},Pa={class:"pb16"},Aa=L("span",{class:"gray9"},"收货人：",-1),$a={class:"pb16"},Fa=L("span",{class:"gray9"},"收货电话：",-1),qa={class:"pb16"},Ma=L("span",{class:"gray9"},"收货地址：",-1),Ea={class:"pb16"},Ia={class:"pb16"},Na=L("span",{class:"gray9"},"备注：",-1),Oa=L("div",{class:"common-form mt16"},"自提用户信息",-1),Ra={key:0,class:"table-wrap"},Ka={class:"pb16"},Qa=L("span",{class:"gray9"},"联系人：",-1),Ta={class:"pb16"},Wa=L("span",{class:"gray9"},"联系电话：",-1),Xa={class:"pb16"},Ya=L("span",{class:"gray9"},"备注：",-1),Ba=L("div",{class:"common-form mt16"},"自提信息",-1),Ga={key:1,class:"table-wrap"},Ha={class:"pb16"},Ja=L("span",{class:"gray9"},"门店ID：",-1),Za={class:"pb16"},ae=L("span",{class:"gray9"},"门店名称：",-1),ee={class:"pb16"},se=L("span",{class:"gray9"},"联系人：",-1),le={class:"pb16"},te=L("span",{class:"gray9"},"联系电话：",-1),de={class:"pb16"},re=L("span",{class:"gray9"},"门店地址：",-1),ie=L("div",{class:"common-form mt16"},"用户信息",-1),oe={class:"table-wrap"},ne={class:"pb16"},ce=L("span",{class:"gray9"},"联系手机：",-1),pe={class:"pb16"},ue=L("span",{class:"gray9"},"备注：",-1),_e={key:4,class:"table-wrap"},me=L("div",{class:"common-form mt16"},"付款信息",-1),ve={class:"table-wrap"},ye={class:"pb16"},fe=L("span",{class:"gray9"},"应付款金额：",-1),ge={class:"pb16"},be=L("span",{class:"gray9"},"支付方式：",-1),he={class:"pb16"},ke=L("span",{class:"gray9"},"支付流水号：",-1),xe={class:"pb16"},Ve=L("span",{class:"gray9"},"付款状态：",-1),Ce={class:"pb16"},we=L("span",{class:"gray9"},"付款时间：",-1),De={key:5,class:"table-wrap"},je=L("div",{class:"common-form mt16"},"取消信息",-1),ze={class:"table-wrap"},Le={class:"pb16"},Se=L("span",{class:"gray9"},"商家备注：",-1),Ue={key:6},Pe=L("div",{class:"common-form mt16"},"用户取消订单",-1),Ae=L("p",{class:"red pb16"}," 当前买家已付款并申请取消订单，请审核是否同意，如同意则自动退回付款金额（微信支付原路退款）并关闭订单。 ",-1),$e={key:7},Fe={key:0},qe=L("div",{class:"common-form mt16"},"去发货",-1),Me={key:1},Ee=L("div",{class:"common-form mt16"},"发货信息",-1),Ie={class:"table-wrap"},Ne={class:"pb16"},Oe=L("span",{class:"gray9"},"物流公司：",-1),Re={class:"pb16"},Ke=L("span",{class:"gray9"},"物流单号：",-1),Qe={class:"pb16"},Te=L("span",{class:"gray9"},"发货状态：",-1),We={class:"pb16"},Xe=L("span",{class:"gray9"},"发货时间：",-1),Ye={key:8},Be=L("div",{class:"common-form mt16"},"门店自提核销",-1),Ge={key:0},He={key:1,class:"table-wrap"},Je={class:"pb16"},Ze=L("span",{class:"gray9"},"自提门店名称：",-1),as={class:"pb16"},es=L("span",{class:"gray9"},"核销员：",-1),ss={class:"pb16"},ls=L("span",{class:"gray9"},"核销状态：",-1),ts={class:"pb16"},ds=L("span",{class:"gray9"},"核销时间：",-1),rs={key:9},is=L("div",{class:"common-form mt16"},"虚拟商品发货",-1),os={key:0},ns={key:1,class:"table-wrap"},cs={class:"pb16"},ps=L("span",{class:"gray9"},"发货信息：",-1),us={class:"pb16"},_s=L("span",{class:"gray9"},"发货状态：",-1),ms={class:"pb16"},vs=L("span",{class:"gray9"},"发货时间：",-1),ys={class:"common-button-wrapper"};const fs=v(N,[["render",function(t,d,m,v,y,P){const A=r,$=l,F=i,q=D("Add"),M=o,E=n,N=c,fs=p,gs=u,bs=e,hs=s,ks=a,xs=I,Vs=j("auth"),Cs=j("img-url"),ws=_;return z((f(),x("div",O,[L("div",R,[K,L("div",Q,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",T,[W,k(" "+S(y.detail.order_no),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",X,[Y,k(" "+S(y.detail.user.nickName)+" ",1),L("span",null,"用户ID：("+S(y.detail.user.user_id)+")",1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",B,[G,k(" "+S(y.detail.order_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",H,[J,k(" "+S(y.detail.express_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[y.detail.coupon_money>0?(f(),x("div",Z,[aa,k(" "+S(y.detail.coupon_money),1)])):w("",!0)])),_:1}),h(A,{span:5},{default:b((()=>[y.detail.points_money>0?(f(),x("div",ea,[sa,k(" "+S(y.detail.points_money),1)])):w("",!0)])),_:1}),h(A,{span:5},{default:b((()=>[y.detail.fullreduce_money>0?(f(),x("div",la,[ta,k(" "+S(y.detail.fullreduce_money),1)])):w("",!0)])),_:1}),70==y.detail.order_source?(f(),g(A,{key:0,span:5},{default:b((()=>[L("div",da,[ra,k(" "+S(y.detail.advance.pay_price),1)])])),_:1})):w("",!0),70==y.detail.order_source?(f(),g(A,{key:1,span:5},{default:b((()=>[L("div",ia,[oa,k(" "+S(y.detail.total_price),1)])])),_:1})):w("",!0),70==y.detail.order_source&&y.detail.advance.reduce_money?(f(),g(A,{key:2,span:5},{default:b((()=>[L("div",na,[ca,k(" "+S(y.detail.advance.reduce_money),1)])])),_:1})):w("",!0),h(A,{span:5},{default:b((()=>[L("div",pa,[ua,k(" "+S(y.detail.pay_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",_a,[ma,k(" "+S(y.detail.pay_type.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",va,[ya,k(" "+S(y.detail.delivery_type.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",fa,[ga,k(" "+S(y.detail.order_status.text),1)])])),_:1}),10==y.detail.pay_status.value&&10==y.detail.order_status.value&&10==y.detail.order_source?z((f(),g(A,{key:3,span:5},{default:b((()=>[h($,{onClick:d[0]||(d[0]=a=>P.editClick(y.detail)),size:"small"},{default:b((()=>[k("修改价格")])),_:1})])),_:1})),[[Vs,"/order/order/updatePrice"]]):w("",!0)])),_:1})]),y.open_edit?(f(),g(q,{key:0,open_edit:y.open_edit,order:y.userModel,onClose:d[1]||(d[1]=a=>P.closeDialogFunc(a,"edit"))},null,8,["open_edit","order"])):w("",!0),ba,L("div",ha,[h(E,{size:"small",data:y.detail.product,border:"",style:{width:"100%"}},{default:b((()=>[h(M,{prop:"product_name",label:"商品",width:"400"},{default:b((a=>[L("div",ka,[L("div",xa,[z(L("img",null,null,512),[[Cs,a.row.image.file_path]])]),L("div",Va,[L("div",Ca,S(a.row.product_name),1),""!=a.row.product_attr?(f(),x("div",wa,S(a.row.product_attr),1)):w("",!0),a.row.refund?(f(),x("div",Da,S(a.row.refund.type.text)+"-"+S(a.row.refund.status.text),1)):w("",!0),L("div",ja,[L("span",{class:U({"text-d-line":1==a.row.is_user_grade,gray6:1!=a.row.is_user_grade})},"￥ "+S(a.row.product_price),3),1==a.row.is_user_grade?(f(),x("span",za," 会员折扣价：￥ "+S(a.row.grade_product_price),1)):w("",!0)])])])])),_:1}),h(M,{prop:"product_no",label:"商品编码"}),h(M,{prop:"product_weight",label:"重量 (Kg)"}),h(M,{prop:"total_num",label:"购买数量"},{default:b((a=>[L("p",null,"x "+S(a.row.total_num),1)])),_:1}),h(M,{prop:"total_price",label:"商品总价(元)"},{default:b((a=>[L("p",null,"￥ "+S(a.row.total_price),1)])),_:1})])),_:1},8,["data"])]),10==y.detail.delivery_type.value?(f(),x("div",La,[Sa,L("div",Ua,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Pa,[Aa,k(" "+S(y.detail.address.name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",$a,[Fa,k(" "+S(y.detail.address.phone),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",qa,[Ma,k(" "+S(y.detail.address.region.province)+" "+S(y.detail.address.region.city)+" "+S(y.detail.address.region.region)+" "+S(y.detail.address.detail),1)])])),_:1}),20!=y.detail.delivery_status.value&&10==y.detail.order_status.value?(f(),g(A,{key:0,span:5},{default:b((()=>[L("div",Ea,[h($,{link:"",type:"primary",size:"small",onClick:P.changeAdd},{default:b((()=>[k(" 修改地址")])),_:1},8,["onClick"])])])),_:1})):w("",!0)])),_:1}),h(F,null,{default:b((()=>[h(A,{span:25},{default:b((()=>[L("div",Ia,[Na,k(" "+S(y.detail.buyer_remark),1)])])),_:1})])),_:1})])])):w("",!0),20==y.detail.delivery_type.value?(f(),x(V,{key:2},[Oa,y.detail.extract?(f(),x("div",Ra,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Ka,[Qa,k(" "+S(y.detail.extract.linkman),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Ta,[Wa,k(" "+S(y.detail.extract.phone),1)])])),_:1})])),_:1}),h(F,null,{default:b((()=>[h(A,{span:25},{default:b((()=>[L("div",Xa,[Ya,k(" "+S(y.detail.buyer_remark),1)])])),_:1})])),_:1})])):w("",!0),Ba,y.detail.extract?(f(),x("div",Ga,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Ha,[Ja,k(" "+S(y.detail.extractStore.store_id),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Za,[ae,k(" "+S(y.detail.extractStore.store_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ee,[se,k(" "+S(y.detail.extractStore.linkman),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",le,[te,k(" "+S(y.detail.extractStore.phone),1)])])),_:1}),h(A,{span:15},{default:b((()=>[L("div",de,[re,k(" "+S(y.detail.extractStore.region.province)+"- "+S(y.detail.extractStore.region.city)+"- "+S(y.detail.extractStore.region.region)+"- "+S(y.detail.extractStore.address),1)])])),_:1})])),_:1})])):w("",!0)],64)):w("",!0),30==y.detail.delivery_type.value?(f(),x(V,{key:3},[ie,L("div",oe,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",ne,[ce,k(" "+S(y.detail.user.mobile),1)])])),_:1})])),_:1}),h(F,null,{default:b((()=>[h(A,{span:25},{default:b((()=>[L("div",pe,[ue,k(" "+S(y.detail.buyer_remark),1)])])),_:1})])),_:1})])],64)):w("",!0),20==y.detail.pay_status.value?(f(),x("div",_e,[me,L("div",ve,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",ye,[fe,k(" "+S(y.detail.pay_price),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ge,[be,k(" "+S(y.detail.pay_type.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",he,[ke,k(" "+S(y.detail.transaction_id),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",xe,[Ve,k(" "+S(y.detail.pay_status.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Ce,[we,k(" "+S(y.detail.pay_time),1)])])),_:1})])),_:1})])])):w("",!0),20==y.detail.order_status.value&&""!=y.detail.cancel_remark?(f(),x("div",De,[je,L("div",ze,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Le,[Se,k(" "+S(y.detail.cancel_remark),1)])])),_:1})])),_:1})])])):w("",!0),20==y.detail.pay_status.value&&21==y.detail.order_status.value?z((f(),x("div",Ue,[Pe,Ae,h(gs,{size:"small",ref:"forms",model:y.forms},{default:b((()=>[h(fs,{label:"审核状态"},{default:b((()=>[L("div",null,[h(N,{modelValue:y.forms.is_cancel,"onUpdate:modelValue":d[2]||(d[2]=a=>y.forms.is_cancel=a),label:1},{default:b((()=>[k("同意")])),_:1},8,["modelValue"]),h(N,{modelValue:y.forms.is_cancel,"onUpdate:modelValue":d[3]||(d[3]=a=>y.forms.is_cancel=a),label:0},{default:b((()=>[k("拒绝")])),_:1},8,["modelValue"])])])),_:1})])),_:1},8,["model"])])),[[Vs,"/order/operate/confirmCancel"]]):w("",!0),20==y.detail.pay_status.value&&10==y.detail.delivery_type.value&&-1===[20,21].indexOf(y.detail.order_status.value)&&10!=y.detail.assemble_status&&30!=y.detail.assemble_status?z((f(),x("div",$e,[10==y.detail.delivery_status.value?(f(),x("div",Fe,[qe,h(gs,{size:"small",ref:"form",model:y.form,"label-width":"100px"},{default:b((()=>[h(fs,{label:"物流公司"},{default:b((()=>[h(hs,{modelValue:y.form.express_id,"onUpdate:modelValue":d[4]||(d[4]=a=>y.form.express_id=a),placeholder:"请选择快递公司"},{default:b((()=>[(f(!0),x(V,null,C(y.expressList,((a,e)=>(f(),g(bs,{label:a.express_name,key:e,value:a.express_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),h(fs,{label:"物流单号"},{default:b((()=>[h(ks,{modelValue:y.form.express_no,"onUpdate:modelValue":d[5]||(d[5]=a=>y.form.express_no=a),class:"max-w460"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])):(f(),x("div",Me,[Ee,L("div",Ie,[h(F,null,{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Ne,[Oe,k(" "+S(y.detail.express.express_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Re,[Ke,k(" "+S(y.detail.express_no),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",Qe,[Te,k(" "+S(y.detail.delivery_status.text),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",We,[Xe,k(" "+S(y.detail.delivery_time),1)])])),_:1})])),_:1})])]))])),[[Vs,"/order/order/delivery"]]):w("",!0),20==y.detail.delivery_type.value&&20==y.detail.pay_status.value&&21!=y.detail.order_status.value&&20!=y.detail.order_status.value?z((f(),x("div",Ye,[Be,10==y.detail.delivery_status.value?(f(),x("div",Ge,[h(gs,{size:"small",ref:"extract_form",model:y.extract_form,"label-width":"100px"},{default:b((()=>[h(fs,{label:"门店核销员"},{default:b((()=>[h(hs,{modelValue:y.extract_form.order.extract_clerk_id,"onUpdate:modelValue":d[6]||(d[6]=a=>y.extract_form.order.extract_clerk_id=a),placeholder:"点击选择"},{default:b((()=>[(f(!0),x(V,null,C(y.shopClerkList,((a,e)=>(f(),g(bs,{label:a.real_name,key:a.clerk_id,value:a.clerk_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),h(fs,{label:"买家取货状态 "},{default:b((()=>[h(N,{modelValue:y.extract_form.order.extract_status,"onUpdate:modelValue":d[7]||(d[7]=a=>y.extract_form.order.extract_status=a),label:1},{default:b((()=>[k("已取货")])),_:1},8,["modelValue"])])),_:1}),h(fs,null,{default:b((()=>[h($,{type:"primary",onClick:d[8]||(d[8]=a=>P.onExtract(y.detail.order_id))},{default:b((()=>[k("确认核销")])),_:1})])),_:1})])),_:1},8,["model"])])):(f(),x("div",He,[y.detail.extractClerk?(f(),g(F,{key:0},{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",Je,[Ze,k(" "+S(y.detail.extractStore.store_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",as,[es,k(" "+S(y.detail.extractClerk.real_name),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ss,[ls,20==y.detail.delivery_status.value?(f(),x(V,{key:0},[k(" 已核销 ")],64)):w("",!0)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ts,[ds,k(" "+S(y.detail.delivery_time),1)])])),_:1})])),_:1})):w("",!0)]))])),[[Vs,"/order/operate/extract"]]):w("",!0),30==y.detail.delivery_type.value&&20==y.detail.pay_status.value&&21!=y.detail.order_status.value&&20!=y.detail.order_status.value?z((f(),x("div",rs,[is,10==y.detail.delivery_status.value?(f(),x("div",os,[h(gs,{size:"small",ref:"virtual_form",model:y.virtual_form,"label-width":"100px"},{default:b((()=>[h(fs,{label:"发货信息"},{default:b((()=>[h(ks,{modelValue:y.virtual_form.virtual_content,"onUpdate:modelValue":d[9]||(d[9]=a=>y.virtual_form.virtual_content=a),class:"max-w460"},null,8,["modelValue"])])),_:1}),h(fs,null,{default:b((()=>[h($,{type:"primary",onClick:d[10]||(d[10]=a=>P.onVirtual(y.detail.order_id))},{default:b((()=>[k("确认发货")])),_:1})])),_:1})])),_:1},8,["model"])])):(f(),x("div",ns,[y.detail.virtual_content?(f(),g(F,{key:0},{default:b((()=>[h(A,{span:5},{default:b((()=>[L("div",cs,[ps,k(" "+S(y.detail.virtual_content),1)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",us,[_s,20==y.detail.delivery_status.value?(f(),x(V,{key:0},[k(" 已发货 ")],64)):w("",!0)])])),_:1}),h(A,{span:5},{default:b((()=>[L("div",ms,[vs,k(" "+S(y.detail.delivery_time),1)])])),_:1})])),_:1})):w("",!0)]))])),[[Vs,"/order/order/delivery"]]):w("",!0)]),L("div",ys,[h($,{size:"small",type:"info",onClick:P.cancelFunc},{default:b((()=>[k("返回上一页")])),_:1},8,["onClick"]),20==y.detail.pay_status.value&&10==y.detail.delivery_type.value&&-1===[20,21].indexOf(y.detail.order_status.value)&&10!=y.detail.assemble_status&&30!=y.detail.assemble_status?(f(),x(V,{key:0},[10==y.detail.delivery_status.value?(f(),g($,{key:0,size:"small",type:"primary",onClick:P.onSubmit},{default:b((()=>[k("确认发货 ")])),_:1},8,["onClick"])):w("",!0)],64)):w("",!0),20==y.detail.pay_status.value&&21==y.detail.order_status.value?(f(),g($,{key:1,size:"small",type:"primary",onClick:d[11]||(d[11]=a=>P.confirmCancel())},{default:b((()=>[k("确认审核")])),_:1})):w("",!0)]),h(xs,{isChange:y.isChange,addressData:y.addressData,onCloseDialog:P.closeAddress},null,8,["isChange","addressData","onCloseDialog"])])),[[ws,y.loading]])}]]);export{fs as default};
