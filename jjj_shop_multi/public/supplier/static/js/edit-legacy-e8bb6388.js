System.register(["./element-plus-legacy-257d6f76.js","./product-legacy-a554960e.js","./Basic-legacy-3166b57c.js","./Specs-legacy-20db115b.js","./Content-legacy-882aa86b.js","./Buyset-legacy-562d4cd8.js","./index-legacy-40e126b0.js","./@vue-legacy-22137cea.js","./lodash-es-legacy-74aa31b9.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-f51a040e.js","./dayjs-legacy-455cbe2f.js","./call-bind-legacy-ce7de972.js","./get-intrinsic-legacy-675d089b.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-8d596841.js","./escape-html-legacy-89f0c831.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./Upload-legacy-250cc5e2.js","./vuedraggable-legacy-d8ca4b45.js","./vue-legacy-15e3fc99.js","./sortablejs-legacy-bb84a1b5.js","./vue-router-legacy-921da64f.js","./pinia-legacy-71de3e62.js","./axios-legacy-d06d9fd6.js","./vue-ueditor-wrap-legacy-b0e85f37.js","./qs-legacy-0ee9e797.js","./side-channel-legacy-bc002aec.js","./object-inspect-legacy-76ba9711.js","./Single-legacy-8e562424.js","./Many-legacy-84158f93.js"],(function(e,a){"use strict";var t,l,n,i,o,c,d,r,s,u,m,p,g,_,f,v,b,y,h,j,w,x,k,S,z;return{setters:[function(e){t=e.E,l=e.q,n=e.r,i=e.f,o=e.c,c=e.v},function(e){d=e.k,r=e.l},function(e){s=e.default},function(e){u=e.default},function(e){m=e.default},function(e){p=e.default},function(e){g=e._,_=e.m},function(e){f=e.ae,v=e.$,b=e.o,y=e.c,h=e.P,j=e.S,w=e.T,x=e.a0,k=e.a,S=e.W,z=e.Y},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent='@charset "UTF-8";[data-v-b6ad2e0c]:root{--el-color-primary:#409eff !important;--el-component-size-small: 32px !important}.common-seach-wrap[data-v-b6ad2e0c]{width:100%}.common-seach-wrap .el-input__wrapper[data-v-b6ad2e0c]{padding:0 15px}.common-seach-wrap .el-form-item__label[data-v-b6ad2e0c]{--el-text-color-regular: #606266;font-weight:400}.common-seach-wrap .el-form--inline .el-form-item[data-v-b6ad2e0c]{margin-right:10px}.el-form-item--small .el-form-item__label[data-v-b6ad2e0c]{height:var(--el-component-size-small)!important;line-height:var(--el-component-size-small)!important}.el-form-item__content .gray9[data-v-b6ad2e0c]{width:100%}.el-form-item__content .el-row .img[data-v-b6ad2e0c]{width:100%;margin-top:10px}.el-table .cell[data-v-b6ad2e0c]{line-height:32px!important}.el-button--small[data-v-b6ad2e0c]{--el-button-size: var(--el-component-size-small)}.common-button-wrapper .el-button--small[data-v-b6ad2e0c]{padding:5px 22px!important}.el-dialog__body[data-v-b6ad2e0c]{overflow:hidden;padding:10px 20px!important}.el-dialog__body .dialog-footer[data-v-b6ad2e0c]{float:right}.el-dialog__headerbtn .el-icon svg[data-v-b6ad2e0c]{width:auto!important;height:auto!important}.table-wrap[data-v-b6ad2e0c]{padding:0 20px 20px}.el-tabs .el-tabs__item[data-v-b6ad2e0c]{font-size:12px;font-weight:700!important}.el-tabs .el-tabs__item span[data-v-b6ad2e0c]{font-weight:inherit}.el-table[data-v-b6ad2e0c]{--el-table-border-color: #EEEEEE !important;--el-table-header-bg-color:#EAEDF4 !important;--el-table-header-text-color:#101010 !important;width:100%!important}.el-form[data-v-b6ad2e0c]{--el-text-color-regular:#333;--el-font-size-base: 12px !important}.el-form-item[data-v-b6ad2e0c]{--font-size: 12px !important}.el-form-item .el-form-item[data-v-b6ad2e0c]{margin-bottom:18px}.el-form-item__label[data-v-b6ad2e0c]{font-weight:700}.el-radio__input.is-checked+.el-radio__label span[data-v-b6ad2e0c]{color:var(--el-text-color-regular)}.pagination[data-v-b6ad2e0c]{overflow:hidden}.pagination .el-pagination[data-v-b6ad2e0c],.upload-dialog .pagination-wrap[data-v-b6ad2e0c]{float:right}.el-icon svg[data-v-b6ad2e0c]{height:1.5em;width:1.5em}.product-add[data-v-b6ad2e0c]{padding-bottom:50px}\n',document.head.appendChild(a);var E={class:"product-add"},C={class:"common-button-wrapper"};e("default",g({components:{Basicm:s,Spec:u,Content:m,Buyset:p},data:function(){return{activeName:"basic",product_id:0,scene:"edit",loading:!0,save_loading:!1,form:{model:{},catgory:[],delivery:[],gradeList:[],specData:null,isSpecLocked:!1,basicSetting:{},agentSetting:{},audit_setting:{}},model:{product_name:"",category_id:null,image:[],is_picture:0,contentImage:[],video_id:0,poster_id:0,selling_point:"",spec_type:10,deduct_stock_type:20,sku:{product_price:0,line_price:0,stock_num:0,product_weight:0,product_no:"",product_sku_id:""},spec_many:{spec_attr:[],spec_list:[]},content:"",delivery_id:"",product_status:10,audit_status:0,product_sort:100,is_points_gift:1,is_points_discount:1,max_points_discount:0,is_agent:0,is_ind_agent:0,agent_money_type:10,first_money:null,second_money:null,third_money:null,is_virtual:0,limit_num:0,virtual_auto:0,virtual_content:"",is_preview:0,preview_time:""}}},provide:function(){return{form:this.form}},created:function(){this.product_id=this.$route.query.product_id,this.scene=this.$route.query.scene,this.getData()},methods:{getData:function(){var e=this;d({product_id:e.product_id,scene:e.scene}).then((function(a){e.loading=!1,e.form.scene=e.scene,Object.assign(e.form,a.data),a.data.specData?e.form.model.spec_many=a.data.specData:e.form.model.sku=a.data.model.sku[0],e.form.model.product_status=a.data.model.product_status.value,0==e.form.model.delivery_id?e.form.model.is_delivery_free=0:e.form.model.is_delivery_free=1,1==e.form.audit_setting.edit_audit&&"add"!=e.form.scene&&(e.form.model.audit_status=0)})).catch((function(a){e.loading=!1}))},convertJson:function(e){var a={};return e.forEach((function(e){a[e.grade_id]=e.product_equity})),JSON.stringify(a)},onSubmit:function(){var e=this;e.$refs.form.validate((function(a){if(a){var l=_(e.model,e.form.model);l.scene=e.scene,l.image=e.ImgKeepId(l.image),l.product_id=e.product_id,e.save_loading=!0,r({product_id:e.product_id,scene:e.scene,params:JSON.stringify(l)}).then((function(a){e.save_loading=!1,t({message:"保存成功",type:"success"}),e.cancelFunc()})).catch((function(a){e.save_loading=!1}))}else t({message:"请检查必填项是否填写完整",type:"error"})}))},ImgKeepId:function(e){for(var a=[],t=0,l=e.length;t<l;t++){var n={image_id:e[t].image_id,file_id:e[t].file_id};a.push(n)}return a},cancelFunc:function(){this.$router.back(-1)}}},[["render",function(e,a,t,d,r,s){var u=l,m=n,p=f("Basicm"),g=f("Spec"),_=f("Content"),N=f("Buyset"),q=i,B=o,D=c;return v((b(),y("div",E,[h(m,{modelValue:r.activeName,"onUpdate:modelValue":a[0]||(a[0]=function(e){return r.activeName=e}),type:"card"},{default:j((function(){return[h(u,{label:"基础设置",name:"basic"}),h(u,{label:"规格库存",name:"spec"}),h(u,{label:"商品详情",name:"content"}),h(u,{label:"高级设置",name:"buyset"})]})),_:1},8,["modelValue"]),r.loading?z("",!0):(b(),w(B,{key:0,size:"small",ref:"form",model:r.form,"label-width":"180px"},{default:j((function(){return[v(h(p,null,null,512),[[x,"basic"==r.activeName]]),v(h(g,null,null,512),[[x,"spec"==r.activeName]]),v(h(_,null,null,512),[[x,"content"==r.activeName]]),v(h(N,null,null,512),[[x,"buyset"==r.activeName]]),k("div",C,[h(q,{size:"small",type:"info",onClick:s.cancelFunc},{default:j((function(){return[S("取消")]})),_:1},8,["onClick"]),h(q,{size:"small",type:"primary",onClick:s.onSubmit,disabled:r.save_loading},{default:j((function(){return[S("发布")]})),_:1},8,["onClick","disabled"])])]})),_:1},8,["model"]))])),[[D,r.loading]])}],["__scopeId","data-v-b6ad2e0c"]]))}}}));
