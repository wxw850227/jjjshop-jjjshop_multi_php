import{_ as e}from"./Upload-c4f46615.js";import{d as l,e as o,n as a,o as d,s as t,t as m,B as i,f as s,g as r,G as u}from"./element-plus-1d28f1d0.js";import{d as n}from"./vuedraggable-392a59b1.js";import{ae as f,an as p,o as _,c,P as g,S as v,Q as y,a9 as b,T as h,Y as V,W as j,a as k,$ as U,a1 as x}from"./@vue-fcfaff04.js";import{_ as P}from"./index-3957abef.js";import"./lodash-es-493ac664.js";import"./async-validator-cf877c1f.js";import"./@vueuse-28c84072.js";import"./dayjs-3f6c138b.js";import"./call-bind-a6dd5c06.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-6c014c7f.js";import"./escape-html-d3e23fdb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-de83683b.js";import"./sortablejs-808289a9.js";import"./vue-router-0cda4647.js";import"./pinia-234ab43f.js";import"./axios-63583d02.js";import"./vue-ueditor-wrap-33bac798.js";import"./qs-edfbe083.js";import"./side-channel-6da5de8a.js";import"./object-inspect-66d569d0.js";const C={components:{Upload:e,draggable:n},data:()=>({isProductUpload:!1,config:{},file_name:"image",test:[1,2,3,4]}),inject:["form"],created(){},methods:{openProductUpload:function(e,l){this.file_name=l,this.config="image"==e?{total:9,file_type:"image"}:{total:1,file_type:"video"},this.isProductUpload=!0},returnProductImgsFunc(e){null!=e&&("video"==this.file_name?(this.form.model.video_id=e[0].file_id,this.form.model.video=e[0]):"image"==this.file_name?this.form.model.image=this.form.model.image.concat(e):"poster"==this.file_name&&(this.form.model.poster_id=e[0].file_id,this.form.model.poster=e[0])),this.isProductUpload=!1},deleteImg(e){this.form.model.image.splice(e,1)},delVideo(){this.form.model.video_id=0,this.form.model.video={}},setExpress(){this.$router.push("/setting/delivery/index")},changeDelivery(e){0==e&&(this.form.model.delivery_id="")}}},w=k("div",{class:"common-form"},"基本信息",-1),q=k("div",{class:"gray9"},"如果平台开启了商品审核，则商品审核通过后才能销售",-1),I=k("div",{class:"gray9"},"当前平台开启了审核，审核通过后才能上架销售",-1),D=k("div",{class:"gray9"},"当前平台开启了修改审核，审核通过后才能上架销售",-1),F={class:"draggable-list"},E={class:"item"},R=["onClick"],$={class:"draggable-list"},z={key:1},B=["src"],G={class:"draggable-list"},Q=["src"],S=k("div",{class:"common-form"},"其他设置",-1),T=k("div",{class:"gray9"},"每个会员购买的最大数量，0为不限购",-1),W=k("div",{class:"gray9"},"虚拟物品内容",-1);const Y=P(C,[["render",function(n,P,C,Y,A,H){const J=l,K=o,L=a,M=d,N=t,O=m,X=f("Close"),Z=i,ee=f("draggable"),le=f("Plus"),oe=s,ae=r,de=u,te=e,me=p("img-url");return _(),c("div",null,[w,g(K,{label:"商品名称：",rules:[{required:!0,message:"请填写商品名称"}],prop:"model.product_name"},{default:v((()=>[g(J,{modelValue:H.form.model.product_name,"onUpdate:modelValue":P[0]||(P[0]=e=>H.form.model.product_name=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),g(K,{label:"所属分类：",rules:[{required:!0,message:"请选择商品分类"}],prop:"model.category_id"},{default:v((()=>[g(M,{modelValue:H.form.model.category_id,"onUpdate:modelValue":P[1]||(P[1]=e=>H.form.model.category_id=e)},{default:v((()=>[(_(!0),c(y,null,b(H.form.category,(e=>(_(),c(y,null,[g(L,{value:e.category_id,label:e.name},null,8,["value","label"]),void 0!==e.child?(_(!0),c(y,{key:0},b(e.child,(e=>(_(),c(y,null,[g(L,{value:e.category_id,label:e.name,style:{"padding-left":"30px"}},null,8,["value","label"]),void 0!==e.child?(_(!0),c(y,{key:0},b(e.child,(e=>(_(),h(L,{value:e.category_id,label:e.name,style:{"padding-left":"60px"}},null,8,["value","label"])))),256)):V("",!0)],64)))),256)):V("",!0)],64)))),256))])),_:1},8,["modelValue"])])),_:1}),g(K,{label:"销售状态："},{default:v((()=>[g(O,{modelValue:H.form.model.product_status,"onUpdate:modelValue":P[2]||(P[2]=e=>H.form.model.product_status=e)},{default:v((()=>[g(N,{label:10},{default:v((()=>[j("立即上架")])),_:1}),g(N,{label:20},{default:v((()=>[j("放入仓库")])),_:1})])),_:1},8,["modelValue"]),q])),_:1}),1==H.form.audit_setting.add_audit&&"add"==H.form.scene?(_(),h(K,{key:0,label:"是否审核："},{default:v((()=>[g(O,{modelValue:H.form.model.audit_status,"onUpdate:modelValue":P[3]||(P[3]=e=>H.form.model.audit_status=e)},{default:v((()=>[g(N,{label:0},{default:v((()=>[j("提交审核")])),_:1}),g(N,{label:40},{default:v((()=>[j("保存草稿")])),_:1})])),_:1},8,["modelValue"]),I])),_:1})):V("",!0),1==H.form.audit_setting.edit_audit&&"add"!=H.form.scene?(_(),h(K,{key:1,label:"是否审核："},{default:v((()=>[g(O,{modelValue:H.form.model.audit_status,"onUpdate:modelValue":P[4]||(P[4]=e=>H.form.model.audit_status=e)},{default:v((()=>[g(N,{label:0},{default:v((()=>[j("提交审核")])),_:1}),g(N,{label:40},{default:v((()=>[j("保存草稿")])),_:1})])),_:1},8,["modelValue"]),D])),_:1})):V("",!0),g(K,{label:"商品图片：",rules:[{required:!0,message:"请上传商品图片"}],prop:"model.image"},{default:v((()=>[k("div",F,[H.form.model.image&&H.form.model.image.length>0?(_(),h(ee,{key:0,modelValue:H.form.model.image,"onUpdate:modelValue":P[5]||(P[5]=e=>H.form.model.image=e),group:"people","item-key":"id",class:"draggable-list"},{item:v((({element:e})=>[k("div",E,[U(k("img",null,null,512),[[me,e.file_path]]),k("a",{href:"javascript:void(0);",class:"delete-btn",onClick:x((l=>H.deleteImg(e)),["stop"])},[g(Z,null,{default:v((()=>[g(X)])),_:1})],8,R)])])),_:1},8,["modelValue"])):V("",!0),k("div",{class:"item img-select",onClick:P[6]||(P[6]=e=>H.openProductUpload("image","image"))},[g(Z,null,{default:v((()=>[g(le)])),_:1})])])])),_:1}),g(K,{label:"商品视频："},{default:v((()=>[g(ae,null,{default:v((()=>[k("div",$,[0==H.form.model.video_id?(_(),c("div",{key:0,class:"item img-select",onClick:P[7]||(P[7]=e=>H.openProductUpload("video","video"))},[g(Z,null,{default:v((()=>[g(le)])),_:1})])):V("",!0),0!=H.form.model.video_id?(_(),c("div",z,[k("video",{width:"150",height:"150",src:H.form.model.video.file_path,autoplay:!1,controls:""}," 您的浏览器不支持 video 标签 ",8,B),k("div",null,[g(oe,{icon:"DeleteFilled",onClick:H.delVideo},{default:v((()=>[j("删除视频")])),_:1},8,["onClick"])])])):V("",!0)])])),_:1})])),_:1}),g(K,{label:"视频封面："},{default:v((()=>[g(ae,null,{default:v((()=>[k("div",G,[0==H.form.model.poster_id?(_(),c("div",{key:0,class:"item img-select",onClick:P[8]||(P[8]=e=>H.openProductUpload("image","poster"))},[g(Z,null,{default:v((()=>[g(le)])),_:1})])):V("",!0),0!=H.form.model.poster_id?(_(),c("div",{key:1,class:"item",onClick:P[9]||(P[9]=e=>H.openProductUpload("image","poster"))},[k("img",{src:H.form.model.poster.file_path,width:"100",height:"100"},null,8,Q)])):V("",!0)])])),_:1})])),_:1}),g(K,{label:"商品卖点："},{default:v((()=>[g(J,{type:"textarea",modelValue:H.form.model.selling_point,"onUpdate:modelValue":P[10]||(P[10]=e=>H.form.model.selling_point=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),S,g(K,{label:"商品属性："},{default:v((()=>[g(O,{modelValue:H.form.model.is_virtual,"onUpdate:modelValue":P[11]||(P[11]=e=>H.form.model.is_virtual=e)},{default:v((()=>[g(N,{label:0},{default:v((()=>[j("实物商品")])),_:1}),g(N,{label:1},{default:v((()=>[j("虚拟商品(无需发货)")])),_:1})])),_:1},8,["modelValue"])])),_:1}),0==H.form.model.is_virtual?(_(),h(K,{key:2,label:"运费：",prop:"model.delivery_id"},{default:v((()=>[g(O,{modelValue:H.form.model.is_delivery_free,"onUpdate:modelValue":P[12]||(P[12]=e=>H.form.model.is_delivery_free=e),onChange:H.changeDelivery},{default:v((()=>[g(N,{label:0},{default:v((()=>[j("包邮")])),_:1}),g(N,{label:1},{default:v((()=>[j("运费模板")])),_:1})])),_:1},8,["modelValue","onChange"]),1==H.form.model.is_delivery_free?(_(),h(M,{key:0,modelValue:H.form.model.delivery_id,"onUpdate:modelValue":P[13]||(P[13]=e=>H.form.model.delivery_id=e)},{default:v((()=>[(_(!0),c(y,null,b(H.form.delivery,(e=>(_(),h(L,{value:e.delivery_id,key:e.delivery_id,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])):V("",!0),1==H.form.model.is_delivery_free?(_(),h(de,{key:1,type:"primary",underline:!1,onClick:H.setExpress},{default:v((()=>[j("去设置")])),_:1},8,["onClick"])):V("",!0)])),_:1})):V("",!0),g(K,{label:"商品排序：",rules:[{required:!0,message:" "}],prop:"model.product_sort"},{default:v((()=>[g(J,{type:"number",min:"0",modelValue:H.form.model.product_sort,"onUpdate:modelValue":P[14]||(P[14]=e=>H.form.model.product_sort=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),g(K,{label:"限购数量：",rules:[{required:!0,message:" "}],prop:"model.limit_num"},{default:v((()=>[g(J,{type:"number",min:"0",modelValue:H.form.model.limit_num,"onUpdate:modelValue":P[15]||(P[15]=e=>H.form.model.limit_num=e),class:"max-w460"},null,8,["modelValue"]),T])),_:1}),1==H.form.model.is_virtual?(_(),h(K,{key:3,label:"发货类型："},{default:v((()=>[g(O,{modelValue:H.form.model.virtual_auto,"onUpdate:modelValue":P[16]||(P[16]=e=>H.form.model.virtual_auto=e)},{default:v((()=>[g(N,{label:1},{default:v((()=>[j("自动")])),_:1}),g(N,{label:0},{default:v((()=>[j("手动")])),_:1})])),_:1},8,["modelValue"])])),_:1})):V("",!0),1==H.form.model.is_virtual?(_(),h(K,{key:4,label:"虚拟内容：",rules:[{required:!0,message:"请填写虚拟内容"}],prop:"model.virtual_content"},{default:v((()=>[g(J,{type:"text",modelValue:H.form.model.virtual_content,"onUpdate:modelValue":P[17]||(P[17]=e=>H.form.model.virtual_content=e),class:"max-w460"},null,8,["modelValue"]),W])),_:1})):V("",!0),A.isProductUpload?(_(),h(te,{key:5,config:A.config,isupload:A.isProductUpload,onReturnImgs:H.returnProductImgsFunc},{default:v((()=>[j("上传图片")])),_:1},8,["config","isupload","onReturnImgs"])):V("",!0)])}]]);export{Y as default};
