System.register(["./element-plus-legacy-662cb951.js","./product-legacy-3c75ccc6.js","./index-legacy-7cb89a83.js","./@vue-legacy-3fcc10b7.js"],(function(e,t){"use strict";var n,i,a,l,o,r,s,c,u,d,h,g,p,f,m,C,b,y,S,_=document.createElement("style");return _.textContent=".no-list .el-checkbox{display:none}\n",document.head.appendChild(_),{setters:[function(e){n=e.e,i=e.f,a=e.d,l=e.c,o=e.l,r=e.m,s=e.n,c=e.o,u=e.v},function(e){d=e.a},function(e){h=e._},function(e){g=e.o,p=e.T,f=e.S,m=e.a,C=e.P,b=e.W,y=e.Y,S=e.$}],execute:function(){var t={class:"common-seach-wrap"},_={class:"product-content"},k={class:"table-wrap"},v=["src"],z={class:"pagination"},w={class:"dialog-footer"};e("_",h({data:function(){return{loading:!0,curPage:1,pageSize:20,totalDataNumber:0,formInline:{},cateList:[],productList:[],status:[{id:10,name:"上架"},{id:20,name:"下架"}],multipleSelection:[],formLabelWidth:"120px",dialogVisible:!1,type:"error",params:null}},props:["isproduct","excludeIds","islist"],watch:{isproduct:function(e,t){e!=t&&e&&(this.dialogVisible=e,this.type="error",this.params=null,this.getData())}},created:function(){},methods:{selectableFunc:function(e){return"boolean"!=typeof e.noChoose||e.noChoose},handleCurrentChange:function(e){this.curPage=e,this.getData()},handleSizeChange:function(e){this.curPage=1,this.pageSize=e,this.getData()},getData:function(){var e=this,t=e.formInline;t.page=e.curPage,t.list_rows=e.pageSize,d(t).then((function(t){1==t.code&&(e.loading=!1,e.cateList=t.data.category,e.excludeIds&&void 0!==e.excludeIds&&e.excludeIds.length>0?t.data.list.data.forEach((function(t){e.excludeIds.indexOf(t.product_id)>-1?t.noChoose=!1:t.noChoose=!0})):e.islist||t.data.list.data.forEach((function(e){e.noChoose=!0})),e.productList=t.data.list.data,e.totalDataNumber=t.data.list.total)})).catch((function(e){}))},SingleFunc:function(e){this.multipleSelection=[e],this.addClerk()},addClerk:function(){var e=this,t=null;e.multipleSelection.length<1?e.$message({message:"请至少选择一件产品商品！",type:"error"}):(e.islist&&void 0!==e.islist?(e.multipleSelection.forEach((function(e){e.image=e.image[0].file_path})),t=e.multipleSelection):(t=e.multipleSelection[0]).image=t.image[0].file_path,e.params=t,e.type="success",e.dialogVisible=!1)},dialogFormVisible:function(){this.$emit("closeDialog",{type:this.type,openDialog:!1,params:this.params})},tableCurrentChange:function(e){this.multipleSelection=e}}},[["render",function(e,d,h,V,x,D){var I=n,F=i,L=a,P=l,j=o,E=r,N=s,$=c,U=u;return g(),p($,{title:"选择商品",modelValue:x.dialogVisible,"onUpdate:modelValue":d[2]||(d[2]=function(e){return x.dialogVisible=e}),onClose:D.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:f((function(){return[m("div",w,[C(F,{size:"small",onClick:d[1]||(d[1]=function(e){return x.dialogVisible=!1})},{default:f((function(){return[b("取 消")]})),_:1}),h.islist?(g(),p(F,{key:0,size:"small",type:"primary",onClick:D.addClerk},{default:f((function(){return[b("确 定")]})),_:1},8,["onClick"])):y("",!0)])]})),default:f((function(){return[m("div",t,[C(P,{inline:!0,size:"small",model:x.formInline,class:"demo-form-inline"},{default:f((function(){return[C(I,{label:"商品分类"}),C(I,{label:"商品名称"},{default:f((function(){return[C(L,{placeholder:"请输入商品名称",modelValue:x.formInline.search,"onUpdate:modelValue":d[0]||(d[0]=function(e){return x.formInline.search=e})},{append:f((function(){return[C(F,{icon:"el-icon-search",onClick:D.getData},{default:f((function(){return[b("查询")]})),_:1},8,["onClick"])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]),m("div",_,[m("div",k,[S((g(),p(E,{size:"small",data:x.productList,border:"",style:{width:"100%"},"highlight-current-row":"",onSelectionChange:D.tableCurrentChange},{default:f((function(){return[C(j,{width:"70",label:"商品图片"},{default:f((function(e){var t=e.row;return[m("img",{src:t.image&&t.image[0].file_path,width:"30",height:"30"},null,8,v)]})),_:1}),C(j,{prop:"product_name",label:"商品名称"}),C(j,{prop:"category.name",width:"100",label:"商品分类"}),C(j,{prop:"create_time",width:"140",label:"添加时间"}),h.islist?(g(),p(j,{key:0,type:"selection",selectable:D.selectableFunc,width:"44"},null,8,["selectable"])):y("",!0),h.islist?y("",!0):(g(),p(j,{key:1,width:"80",label:"单选"},{default:f((function(e){var t=e.row;return[t.noChoose?(g(),p(F,{key:0,size:"mini",onClick:function(e){return D.SingleFunc(t)}},{default:f((function(){return[b("选择")]})),_:2},1032,["onClick"])):(g(),p(F,{key:1,size:"mini",disabled:""},{default:f((function(){return[b("已选")]})),_:1}))]})),_:1}))]})),_:1},8,["data","onSelectionChange"])),[[U,x.loading]])]),m("div",z,[C(N,{onSizeChange:D.handleSizeChange,onCurrentChange:D.handleCurrentChange,background:"","current-page":x.curPage,"page-sizes":[2,10,20,50,100],"page-size":x.pageSize,layout:"total, prev, pager, next, jumper",total:x.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])]})),_:1},8,["modelValue","onClose"])}]]))}}}));
