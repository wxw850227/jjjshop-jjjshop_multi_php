import{E as l,d as e,e as s,f as t,i,A as a,g as o,c as r}from"./element-plus-78c440b2.js";import{_ as m}from"./Setlink-e64802a4.js";import{_ as u}from"./Upload-4b5e65e6.js";import{m as n}from"./page-7f4bcbd8.js";import{_ as p}from"./index-0e3e5afc.js";import{o as d,c,P as f,S as g,a as h,W as _,Y as j,T as k,X as y}from"./@vue-76da2f05.js";import"./@vueuse-90d34f35.js";import"./lodash-es-3f297d7c.js";import"./async-validator-cf877c1f.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9f5f6982.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./article-d609c59a.js";import"./product-edd059db.js";import"./vue-router-590ae0e4.js";import"./pinia-58dabe83.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./vue-ueditor-wrap-cd890801.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";const b={components:{Upload:u,Setlink:m},data:()=>({isupload:!1,is_linkset:!1,isImg:!1,path:"",tips_Id:"",form:{title:"",image_url:"",sort:1,status:1,link_url:"",name:""},loading:!1,rules:{title:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],image_url:[{required:!0,message:"请上传图标",trigger:"blur"}],link_url:[{required:!0,message:"请选择链接地址",trigger:"blur"}]}}),created(){},methods:{changeLink(){this.is_linkset=!0},closeLinkset(l){this.is_linkset=!1,null!=l&&(l.url.startsWith("/")?this.form.link_url=l.url:this.form.link_url="/"+l.url,this.form.name="链接到 "+l.type+" "+l.name,this.tips_Id="链接到 "+l.type+" "+l.name)},openUpload(){this.isupload=!0},returnImgsFunc(l){null!=l&&(this.form.image_url=l[0].file_path,this.path=l[0].file_path,this.isImg=!0),this.isupload=!1},onSubmit(){let e=this,s=e.form;e.$refs.form.validate((t=>{t&&(e.loading=!0,n(s).then((s=>{e.loading=!1,l({message:s.msg,type:"success"}),e.$router.push("/page/page/mymenu/index")})).catch((l=>{e.loading=!1})))}))},cancelFunc(){this.$router.push({path:"/page/page/mymenu/index"})}}},x={class:"product-add pb50"},v=h("div",{class:"common-form"},"添加菜单",-1),V=["src","isImg"],I=h("div",{style:{color:"red"}},"图标大小为:25*25",-1),w={class:"url-box flex-1"},C={class:"tips",id:"tips",style:{color:"#000"}},U=h("div",{class:"url-box ml10",style:{float:"right"}},null,-1),q={class:"common-button-wrapper"};const S=p(b,[["render",function(l,n,p,b,S,z){const F=e,L=s,$=t,D=u,R=i,W=a,A=o,E=m,P=r;return d(),c("div",x,[f(P,{size:"small",model:S.form,ref:"form",rules:S.rules,"label-width":"100px"},{default:g((()=>[v,f(L,{label:"菜单名称",prop:"title"},{default:g((()=>[f(F,{modelValue:S.form.title,"onUpdate:modelValue":n[0]||(n[0]=l=>S.form.title=l),placeholder:"请输入菜单名称",class:"max-w460"},null,8,["modelValue"])])),_:1}),f(L,{label:"图标",prop:"image_url"},{default:g((()=>[h("div",null,[f($,{type:"primary",onClick:z.openUpload},{default:g((()=>[_("上传图片")])),_:1},8,["onClick"]),S.isImg?(d(),c("img",{key:0,src:S.path,class:"mt10",width:"120px;",isImg:S.isImg},null,8,V)):j("",!0),I,S.isupload?(d(),k(D,{key:1,isupload:S.isupload,onReturnImgs:z.returnImgsFunc},{default:g((()=>[_("上传图片")])),_:1},8,["isupload","onReturnImgs"])):j("",!0)])])),_:1}),f(L,{label:"状态"},{default:g((()=>[f(W,{modelValue:S.form.status,"onUpdate:modelValue":n[1]||(n[1]=l=>S.form.status=l)},{default:g((()=>[f(R,{label:1},{default:g((()=>[_("显示")])),_:1}),f(R,{label:0},{default:g((()=>[_("隐藏")])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(L,{label:"排序"},{default:g((()=>[f(F,{type:"number",modelValue:S.form.sort,"onUpdate:modelValue":n[2]||(n[2]=l=>S.form.sort=l),placeholder:"请输入数字",class:"max-w460"},null,8,["modelValue"])])),_:1}),f(L,{label:"链接",prop:"link_url"},{default:g((()=>[f(A,null,{default:g((()=>[h("div",w,[f(F,{modelValue:S.form.link_url,"onUpdate:modelValue":n[3]||(n[3]=l=>S.form.link_url=l),type:"text",class:"max-w460 mr10",style:{width:"380px"}},null,8,["modelValue"]),f($,{type:"primary",onClick:n[4]||(n[4]=l=>z.changeLink())},{default:g((()=>[_("选择链接")])),_:1}),h("div",C,y(S.tips_Id),1),f(F,{modelValue:S.form.name,"onUpdate:modelValue":n[5]||(n[5]=l=>S.form.name=l),type:"hidden",class:"max-w460",style:{width:"380px"}},null,8,["modelValue"])]),U])),_:1})])),_:1}),S.is_linkset?(d(),k(E,{key:0,is_linkset:S.is_linkset,onCloseDialog:z.closeLinkset},{default:g((()=>[_("选择链接")])),_:1},8,["is_linkset","onCloseDialog"])):j("",!0),h("div",q,[f($,{size:"small",type:"info",onClick:z.cancelFunc},{default:g((()=>[_("取消")])),_:1},8,["onClick"]),f($,{size:"small",type:"primary",onClick:z.onSubmit,loading:S.loading},{default:g((()=>[_("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model","rules"])])}]]);export{S as default};
