import{E as e,q as t,r,e as l,f as o,d as s,c as i,l as a,m as d,n as m,o as c,v as n}from"./element-plus-78c440b2.js";import{s as u}from"./store-e419ad3a.js";import{_ as p,d as I}from"./index-0e3e5afc.js";import{o as f,T as h,S as g,P as x,W as y,a as j,c as b,Q as k,a9 as v,Y as S,$ as C,ae as _}from"./@vue-76da2f05.js";import{_ as P}from"./Upload-4b5e65e6.js";import w from"./Setpages-24e57c80.js";import D from"./Banner-b6b14ed1.js";import V from"./ImageSingle-0944deda.js";import z from"./Window-c8f28ac7.js";import B from"./Video-97cd555c.js";import L from"./Article-96b3e7f7.js";import E from"./Special-a638eb65.js";import N from"./Notice-3579da3f.js";import T from"./NavBar-84917010.js";import F from"./Product-532f8e2e.js";import U from"./Coupon-726bc615.js";import R from"./Store-c223999b.js";import W from"./Service-a4bef2aa.js";import M from"./RichText-88d37c68.js";import A from"./Blank-1f00abb1.js";import q from"./Guide-0ec86966.js";import G from"./Seckill-d9c5ebf8.js";import $ from"./Preview-d922a75e.js";import O from"./assembleProduct-2be676ec.js";import Q from"./BargainProduct-4d1d5170.js";import Y from"./Live-1c1e4683.js";import H from"./Title-e23c2ffc.js";import{_ as J}from"./Product-391f8ba4.js";import"./@vueuse-90d34f35.js";import"./lodash-es-3f297d7c.js";import"./async-validator-cf877c1f.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9f5f6982.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-590ae0e4.js";import"./pinia-58dabe83.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./vue-ueditor-wrap-cd890801.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";import"./Setlink-e64802a4.js";import"./article-d609c59a.js";import"./product-edd059db.js";import"./vuedraggable-13be42ee.js";import"./vue-407f4729.js";import"./sortablejs-9c07ead7.js";import"./UE-8f57cb64.js";const K={class:"common-seach-wrap"},X={class:"product-content"},Z={class:"table-wrap"},ee=["src"],te={class:"pagination"};const re=p({data:()=>({loading:!0,curPage:1,pageSize:20,totalDataNumber:0,formInline:{},cateList:[],productList:[],status:[{id:10,name:"上架"},{id:20,name:"下架"}],multipleSelection:[],formLabelWidth:"120px",dialogVisible:!1,type:"error",params:null}),props:["isstore","excludeIds","islist"],watch:{isstore:function(e,t){e!=t&&e&&(this.dialogVisible=e,this.type="error",this.params=null,this.getData())}},created(){},methods:{selectableFunc:e=>"boolean"!=typeof e.noChoose||e.noChoose,handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.curPage=1,this.pageSize=e,this.getData()},getData(){let e=this,t=e.formInline;t.page=e.curPage,t.list_rows=e.pageSize,u(t).then((t=>{1==t.code&&(e.loading=!1,e.cateList=t.data.catgory,e.excludeIds&&void 0!==e.excludeIds&&e.excludeIds.length>0&&t.data.list.data.forEach((t=>{e.excludeIds.indexOf(t.product_id)>-1?t.noChoose=!1:t.noChoose=!0})),e.productList=t.data.list.data,e.totalDataNumber=t.data.list.total)})).catch((e=>{}))},addClerk(){let t=this,r=null;t.multipleSelection.length<1?e({message:"请至少选择一件产品商品！",type:"error"}):(t.islist&&void 0!==t.islist?(t.multipleSelection.forEach((e=>{e.image=e.image[0].file_path})),r=t.multipleSelection):(r=t.multipleSelection[0],r.image=r.image[0].file_path),t.params=r,t.type="success",t.dialogVisible=!1)},dialogFormVisible(){this.$emit("closeDialog",{type:this.type,openDialog:!1,params:this.params})},tableCurrentChange(e){this.multipleSelection=e}}},[["render",function(e,u,p,I,_,P){const w=t,D=r,V=l,z=o,B=s,L=i,E=a,N=d,T=m,F=c,U=n;return f(),h(F,{title:"选择门店",modelValue:_.dialogVisible,"onUpdate:modelValue":u[3]||(u[3]=e=>_.dialogVisible=e),onClose:P.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"900px"},{footer:g((()=>[x(z,{size:"small",onClick:u[2]||(u[2]=e=>_.dialogVisible=!1)},{default:g((()=>[y("取 消")])),_:1}),x(z,{size:"small",type:"primary",onClick:P.addClerk},{default:g((()=>[y("确 定")])),_:1},8,["onClick"])])),default:g((()=>[j("div",K,[x(L,{inline:!0,size:"small",model:_.formInline,class:"demo-form-inline"},{default:g((()=>[x(V,{label:"商品分类"},{default:g((()=>[x(D,{modelValue:_.formInline.category_id,"onUpdate:modelValue":u[0]||(u[0]=e=>_.formInline.category_id=e),placeholder:"请选择商品分类"},{default:g((()=>[x(w,{value:0,label:"全部"}),(f(!0),b(k,null,v(_.cateList,(e=>(f(),b(k,{key:e.category_id},[x(w,{value:e.category_id,label:e.name},null,8,["value","label"]),(f(!0),b(k,null,v(e.child,(t=>(f(),b(k,{key:t.category_id},[void 0!==e.child?(f(),h(w,{key:0,value:t.category_id,label:t.name,style:{"padding-left":"30px"}},null,8,["value","label"])):S("",!0),(f(!0),b(k,null,v(t.child,(e=>(f(),b(k,{key:e.category_id},[void 0!==t.child?(f(),h(w,{key:0,value:e.category_id,label:e.name,style:{"padding-left":"60px"}},null,8,["value","label"])):S("",!0)],64)))),128))],64)))),128))],64)))),128))])),_:1},8,["modelValue"])])),_:1}),x(V,{label:"商品名称"},{default:g((()=>[x(B,{placeholder:"请输入商品名称",modelValue:_.formInline.search,"onUpdate:modelValue":u[1]||(u[1]=e=>_.formInline.search=e)},{default:g((()=>[x(z,{icon:"Search",onClick:P.getData},{default:g((()=>[y("查询")])),_:1},8,["onClick"])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])]),j("div",X,[j("div",Z,[C((f(),h(N,{size:"small",data:_.productList,border:"",style:{width:"100%"},"highlight-current-row":"",onSelectionChange:P.tableCurrentChange},{default:g((()=>[x(E,{width:"70",label:"商品图片"},{default:g((e=>[j("img",{src:e.row.image[0].file_path,width:"30",height:"30"},null,8,ee)])),_:1}),x(E,{prop:"product_name",label:"商品名称"}),x(E,{prop:"category.name",width:"100",label:"商品分类"}),x(E,{prop:"create_time",width:"140",label:"添加时间"}),x(E,{type:"selection",selectable:P.selectableFunc,width:"44"},null,8,["selectable"])])),_:1},8,["data","onSelectionChange"])),[[U,_.loading]])]),j("div",te,[x(T,{onSizeChange:P.handleSizeChange,onCurrentChange:P.handleCurrentChange,background:"","current-page":_.curPage,"page-sizes":[2,10,20,50,100],"page-size":_.pageSize,layout:"total, prev, pager, next, jumper",total:_.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])),_:1},8,["modelValue","onClose"])}]]),le={id:"diy-editor",ref:"diy-editor",class:"diy-editor form-horizontal"};const oe=p({components:{Setpages:w,Banner:D,ImageSingle:V,Window:z,Video:B,ArticleIndex:L,Special:E,Notice:N,NavBar:T,ProductIndex:F,Coupon:U,Store:R,Service:W,RichText:M,Blank:A,Guide:q,Seckill:G,assembleProduct:O,BargainProduct:Q,Upload:P,ProductSelect:J,StoreSelect:re,Live:Y,Title:H,Preview:$},data:()=>({isupload:!1,imgModel:null,isproduct:!1,excludeIds:[],islist:!1,isstore:!1,isstorelist:!1}),props:["form","defaultData","diyData","opts"],created(){},methods:{onEditorAddData:function(){let e=this;var t=I(e.defaultData[e.form.curItem.type].data[0]);e.form.curItem.data.push(t)},onEditorResetColor:function(e,t,r){e[t]=r},onEditorDeleleData:function(t,r){if(this.diyData.items[r].data.length<=1)return e({message:"至少保留一个",type:"error"}),!1;this.diyData.items[r].data.splice(t,1)},onEditorSelectImage:function(e,t){this.isupload=!0,this.imgModel={index:e,imgUrl:t}},returnImgsFunc(e){null!=e&&(this.imgModel.index[this.imgModel.imgUrl]=e[0].file_path),this.isupload=!1},openProduct(e,t){let r=[];e.forEach((e=>{r.push(e.product_id)})),this.excludeIds=r,this.islist=!(!t||void 0===t),this.isproduct=!0},closeProductDialogFunc(e){null!=this.form.curItem&&(this.isproduct=!1,"success"==e.type&&(this.form.curItem.data.length>0&&this.form.curItem.data[0].is_default&&(this.form.curItem.data=[]),this.islist?this.form.curItem.data=this.form.curItem.data.concat(e.params):this.form.curItem.data.push(e.params)))},openStore(e,t){let r=[];e.forEach((e=>{r.push(e.store_id)})),this.excludeIds=r,this.isstorelist=!(!t||void 0===t),this.isstore=!0}}},[["render",function(e,t,r,l,o,s){const i=_("Setpages"),a=_("Banner"),d=_("ImageSingle"),m=_("Window"),c=_("Video"),n=_("ArticleIndex"),u=_("Special"),p=_("Notice"),I=_("NavBar"),j=_("ProductIndex"),v=_("Coupon"),C=_("Store"),w=_("Service"),D=_("RichText"),V=_("Blank"),z=_("Guide"),B=_("Seckill"),L=_("assembleProduct"),E=_("Preview"),N=_("BargainProduct"),T=_("Live"),F=_("Title"),U=P,R=_("ProductSelect"),W=re;return f(),b("div",le,[r.form.curItem?(f(),b(k,{key:0},["page"==r.form.curItem.type?(f(),h(i,{key:0,curItem:r.form.curItem},null,8,["curItem"])):S("",!0),"banner"==r.form.curItem.type?(f(),h(a,{key:1,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"imageSingle"==r.form.curItem.type?(f(),h(d,{key:2,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"window"==r.form.curItem.type?(f(),h(m,{key:3,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"video"==r.form.curItem.type?(f(),h(c,{key:4,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"article"==r.form.curItem.type?(f(),h(n,{key:5,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"special"==r.form.curItem.type?(f(),h(u,{key:6,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"notice"==r.form.curItem.type?(f(),h(p,{key:7,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"navBar"==r.form.curItem.type?(f(),h(I,{key:8,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"product"==r.form.curItem.type?(f(),h(j,{key:9,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"coupon"==r.form.curItem.type?(f(),h(v,{key:10,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"store"==r.form.curItem.type?(f(),h(C,{key:11,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"service"==r.form.curItem.type?(f(),h(w,{key:12,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"richText"==r.form.curItem.type?(f(),h(D,{key:13,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"blank"==r.form.curItem.type?(f(),h(V,{key:14,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"guide"==r.form.curItem.type?(f(),h(z,{key:15,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"seckillProduct"==r.form.curItem.type?(f(),h(B,{key:16,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"assembleProduct"==r.form.curItem.type?(f(),h(L,{key:17,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"previewProduct"==r.form.curItem.type?(f(),h(E,{key:18,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"bargainProduct"==r.form.curItem.type?(f(),h(N,{key:19,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"live"==r.form.curItem.type?(f(),h(T,{key:20,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0),"title"==r.form.curItem.type?(f(),h(F,{key:21,curItem:r.form.curItem,selectedIndex:r.form.selectedIndex},null,8,["curItem","selectedIndex"])):S("",!0)],64)):S("",!0),o.isupload?(f(),h(U,{key:1,isupload:o.isupload,config:{total:3},onReturnImgs:s.returnImgsFunc},null,8,["isupload","onReturnImgs"])):S("",!0),x(R,{isproduct:o.isproduct,excludeIds:o.excludeIds,islist:o.islist,onCloseDialog:t[0]||(t[0]=e=>s.closeProductDialogFunc(e))},{default:g((()=>[y("产品列表弹出层")])),_:1},8,["isproduct","excludeIds","islist"]),x(W,{isstore:o.isstore,islist:o.isstorelist},null,8,["isstore","islist"])],512)}]]);export{oe as default};
