System.register(["./element-plus-legacy-662cb951.js","./product-legacy-3c75ccc6.js","./index-legacy-7cb89a83.js","./@vue-legacy-3fcc10b7.js","./@vueuse-legacy-bdd63cbd.js","./lodash-es-legacy-7c31c52b.js","./async-validator-legacy-aa1fd2de.js","./dayjs-legacy-c5a98902.js","./call-bind-legacy-9803fab8.js","./get-intrinsic-legacy-4f34f38e.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-053c792c.js","./@popperjs-legacy-876caf52.js","./escape-html-legacy-ae962a8c.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./vue-router-legacy-b8d63bd7.js","./pinia-legacy-9b6e299c.js","./vue-demi-legacy-97cfbb01.js","./axios-legacy-40880ebd.js","./vue-ueditor-wrap-legacy-4eaef8ae.js","./qs-legacy-e8d8a27b.js","./side-channel-legacy-a0fabbd4.js","./object-inspect-legacy-50e036e0.js"],(function(e,t){"use strict";var a,l,n,u,r,c,o,i,s,d,p,g,m,f,y,h,_,b,v,j,C,k,z,w,S,D,x,V,N,F,P,q;return{setters:[function(e){a=e.a,l=e.E,n=e.y,u=e.t,r=e.u,c=e.q,o=e.r,i=e.e,s=e.d,d=e.f,p=e.c,g=e.l,m=e.m,f=e.n,y=e.v},function(e){h=e.p,_=e.q,b=e.r},function(e){v=e._},function(e){j=e.ap,C=e.o,k=e.c,z=e.a,w=e.P,S=e.S,D=e.W,x=e.X,V=e.Q,N=e.a9,F=e.T,P=e.$,q=e.Y},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t={class:"product-list"},L={class:"common-seach-wrap"},T={class:"product-content"},U={class:"table-wrap"},$={class:"product-info"},E={class:"pic"},I={alt:""},Q={class:"info"},W={class:"name"},X={class:"price"},Y={key:0},A={key:1,class:"green"},B={class:"table-btn-column"},G={class:"pagination"};e("default",v({components:{},data:function(){return{activeName:"sell",activeIndex:"0",loading:!0,pageSize:10,totalDataNumber:0,curPage:1,searchForm:{product_name:"",category_id:""},tableData:[],categoryList:[],product_count:{}}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){var t=this;t.loading=!0,t.curPage=e,t.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleClick:function(e,t){this.curPage=1,this.getData()},getData:function(){var e=this,t=e.searchForm;t.page=e.curPage,t.list_rows=e.pageSize,t.type=e.activeName,e.loading=!0,h(t).then((function(t){e.loading=!1,e.tableData=t.data.list.data,e.categoryList=t.data.category,e.totalDataNumber=t.data.list.total,e.product_count=t.data.product_count})).catch((function(t){e.loading=!1}))},onSubmit:function(){this.curPage=1,this.getData()},editClick:function(e){this.$router.push({path:"/product/product/edit",query:{product_id:e.product_id,scene:"edit"}})},delClick:function(e){var t=this;a.confirm("删除后将移动到回收站，确定删除该记录吗?","提示",{type:"warning"}).then((function(){_({product_id:e.product_id}).then((function(e){l({message:"删除成功",type:"success"}),t.getData()}))}))},changeStatus:function(e,t){var n=this;a.confirm("确认要移动该商品到仓库吗?","提示",{type:"warning"}).then((function(){b({product_id:e.product_id,state:t}).then((function(e){l({message:"操作成功",type:"success"}),n.getData()}))}))}}},[["render",function(e,a,l,h,_,b){var v=n,H=u,J=r,K=c,M=o,O=i,R=s,Z=d,ee=p,te=g,ae=m,le=f,ne=j("img-url"),ue=j("auth"),re=y;return C(),k("div",t,[z("div",L,[w(J,{modelValue:_.activeName,"onUpdate:modelValue":a[0]||(a[0]=function(e){return _.activeName=e}),onTabChange:b.handleClick},{default:S((function(){return[w(H,{label:"出售中",name:"sell"},{label:S((function(){return[z("span",null,[D("出售中 "),w(v,{size:"small"},{default:S((function(){return[D(x(_.product_count.sell),1)]})),_:1})])]})),_:1}),w(H,{label:"仓库中",name:"lower"},{label:S((function(){return[z("span",null,[D("仓库中 "),w(v,{size:"small"},{default:S((function(){return[D(x(_.product_count.lower),1)]})),_:1})])]})),_:1}),w(H,{label:"回收站",name:"recovery"},{label:S((function(){return[z("span",null,[D("回收站 "),w(v,{size:"small"},{default:S((function(){return[D(x(_.product_count.recovery),1)]})),_:1})])]})),_:1}),w(H,{label:"待审核",name:"audit"},{label:S((function(){return[z("span",null,[D("待审核 "),w(v,{size:"small"},{default:S((function(){return[D(x(_.product_count.audit),1)]})),_:1})])]})),_:1}),w(H,{label:"未通过",name:"no_audit"},{label:S((function(){return[z("span",null,[D("未通过 "),w(v,{size:"small"},{default:S((function(){return[D(x(_.product_count.no_audit),1)]})),_:1})])]})),_:1})]})),_:1},8,["modelValue","onTabChange"]),w(ee,{size:"small",inline:!0,model:_.searchForm,class:"demo-form-inline"},{default:S((function(){return[w(O,{label:"商品分类"},{default:S((function(){return[w(M,{size:"small",modelValue:_.searchForm.category_id,"onUpdate:modelValue":a[1]||(a[1]=function(e){return _.searchForm.category_id=e}),placeholder:"所有分类"},{default:S((function(){return[w(K,{label:"全部",value:"0"}),(C(!0),k(V,null,N(_.categoryList,(function(e,t){return C(),F(K,{key:t,label:e.name,value:e.category_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),w(O,{label:"商品名称"},{default:S((function(){return[w(R,{size:"small",modelValue:_.searchForm.product_name,"onUpdate:modelValue":a[2]||(a[2]=function(e){return _.searchForm.product_name=e}),placeholder:"请输入商品名称"},null,8,["modelValue"])]})),_:1}),w(O,null,{default:S((function(){return[w(Z,{size:"small",type:"primary",icon:"Search",onClick:b.onSubmit},{default:S((function(){return[D("查询")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),z("div",T,[z("div",U,[P((C(),F(ae,{size:"small",data:_.tableData,border:"",style:{width:"100%"}},{default:S((function(){return[w(te,{prop:"product_name",label:"产品",width:"400px"},{default:S((function(e){return[z("div",$,[z("div",E,[P(z("img",I,null,512),[[ne,e.row.image[0].file_path]])]),z("div",Q,[z("div",W,x(e.row.product_name),1),z("div",X,"¥ "+x(e.row.product_price),1)])])]})),_:1}),w(te,{prop:"supplier.name",label:"商户名称"}),w(te,{prop:"category.name",label:"分类"}),w(te,{prop:"sales_actual",label:"实际销量"}),w(te,{prop:"product_stock",label:"库存"}),w(te,{prop:"view_times",label:"点击数"}),w(te,{prop:"product_status.text",label:"商品属性"},{default:S((function(e){return[0==e.row.is_virtual?(C(),k("span",Y,"实物商品")):q("",!0),1==e.row.is_virtual?(C(),k("span",A,"虚拟商品")):q("",!0)]})),_:1}),w(te,{prop:"create_time",label:"发布时间"}),w(te,{prop:"product_sort",label:"排序"}),w(te,{fixed:"right",label:"操作",width:"80"},{default:S((function(e){return[z("div",B,[10==e.row.audit_status?P((C(),F(Z,{key:0,onClick:function(t){return b.editClick(e.row)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("编辑商品")]})),_:2},1032,["onClick"])),[[ue,"/product/product/edit"]]):q("",!0),0==e.row.audit_status?P((C(),F(Z,{key:1,onClick:function(t){return b.editClick(e.row)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("审核商品")]})),_:2},1032,["onClick"])),[[ue,"/product/product/edit"]]):q("",!0),"recovery"==_.activeName?P((C(),F(Z,{key:2,onClick:function(t){return b.changeStatus(e.row,20)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("恢复")]})),_:2},1032,["onClick"])),[[ue,"/product/product/state"]]):q("",!0),P((C(),F(Z,{onClick:function(t){return b.delClick(e.row)},link:"",type:"primary",size:"small"},{default:S((function(){return[D("删除商品")]})),_:2},1032,["onClick"])),[[ue,"/product/product/delete"]])])]})),_:1})]})),_:1},8,["data"])),[[re,_.loading]])])]),z("div",G,[w(le,{onSizeChange:b.handleSizeChange,onCurrentChange:b.handleCurrentChange,background:"","current-page":_.curPage,"page-size":_.pageSize,layout:"total, prev, pager, next, jumper",total:_.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])}]]))}}}));
