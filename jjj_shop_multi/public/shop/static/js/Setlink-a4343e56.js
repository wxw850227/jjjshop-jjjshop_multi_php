import{q as e,r as a,v as t,f as l,e as i,c as n,l as s,m as c,n as o,t as d,u as r,I as u,d as g,o as p}from"./element-plus-78c440b2.js";import{_ as h,i as m}from"./index-73113c1c.js";import{o as v,T as y,S as b,c as _,Q as C,a9 as D,$ as f,a as k,P,W as V,ap as F,Y as z,X as w}from"./@vue-76da2f05.js";import{a as S}from"./article-507cbf4e.js";import{c as T,p as x}from"./product-b0159307.js";const N=h({data:()=>({pages:[{url:"/pages/user/address/address",name:"收货地址",type:"菜单"},{url:"/pages/user/my-coupon/my-coupon",name:"我的优惠券",type:"菜单"},{url:"/pages/user/my_attention/my_attention",name:"我的收藏",type:"菜单"},{url:"/pages/user/my_collect/my_collect",name:"我的关注",type:"菜单"},{url:"/pagesPlus/signin/signin",name:"签到有礼",type:"菜单"},{url:"/pages/user/set/set",name:"设置",type:"菜单"},{url:"/pages/user/evaluate/list",name:"我的评价",type:"菜单"}],activePage:"收货地址"}),created(){this.changeFunc(this.pages[0])},methods:{changeFunc(e){this.$emit("changeData",e)}}},[["render",function(t,l,i,n,s,c){const o=e,d=a;return v(),y(d,{modelValue:s.activePage,"onUpdate:modelValue":l[0]||(l[0]=e=>s.activePage=e),placeholder:"请选择",class:"percent-w100",onChange:c.changeFunc,"value-key":"url"},{default:b((()=>[(v(!0),_(C,null,D(s.pages,(e=>(v(),y(o,{key:e.url,"value-key":e.name,label:e.name,value:e},null,8,["value-key","label","value"])))),128))])),_:1},8,["modelValue","onChange"])}]]);const L=h({data:()=>({loading:!0,pages:[],activePage:{}}),created(){this.getData()},methods:{getData(){let e=this;(async function(e){return m({url:"/shop/link.link/getPageList",method:"post",data:e})})({}).then((a=>{e.loading=!1;let t=[];for(let e=0,l=a.data.list.length;e<l;e++){let l=a.data.list[e],i={url:"pages/diy-page/diy-page?page_id="+l.page_id,name:l.page_name,type:"自定义页面"};t.push(i)}e.pages=t,e.pages.length>0&&(e.activePage=e.pages[0],e.changeFunc(e.activePage))})).catch((a=>{e.loading=!1}))},changeFunc(e){this.$emit("changeData",e)}}},[["render",function(l,i,n,s,c,o){const d=e,r=a,u=t;return f((v(),y(r,{modelValue:c.activePage,"onUpdate:modelValue":i[0]||(i[0]=e=>c.activePage=e),placeholder:"请选择",class:"percent-w100",onChange:o.changeFunc,"value-key":"url"},{default:b((()=>[(v(!0),_(C,null,D(c.pages,(e=>(v(),y(d,{key:e.url,label:e.name,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])),[[u,c.loading]])}]]),$={class:"article-box"},U={class:"common-seach-wrap"},A={class:"article-content"},j={class:"table-wrap"},M={class:"pagination"};const I=h({data:()=>({activeTab:"second",pageSize:5,totalDataNumber:0,curPage:1,loading:!0,tableData:[],activePage:{}}),created(){this.chooseList(),this.getData()},watch:{},methods:{handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.pageSize=e,this.curPage=1,this.getData()},getData(){let e=this;e.loading=!0;let a={};a.page=e.curPage,a.list_rows=e.pageSize,S(a).then((a=>{e.loading=!1,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total})).catch((e=>{}))},changeFunc(e){let a={};a.name=e.article_title,a.url="pages/article/detail/detail?article_id="+e.article_id,a.type="文章",this.$emit("changeData",a)},chooseList(){let e={name:"文章列表",url:"pages/article/list/list",type:"文章"};this.$emit("changeData",e)}}},[["render",function(e,a,t,d,r,u){const g=l,p=i,h=n,m=s,y=c,C=o;return v(),_("div",$,[k("div",U,[P(h,{size:"small",inline:!0,class:"demo-form-inline"},{default:b((()=>[P(p,null,{default:b((()=>[P(g,{size:"small",icon:"Memo",onClick:u.chooseList},{default:b((()=>[V("选择文章列表")])),_:1},8,["onClick"])])),_:1})])),_:1})]),k("div",A,[k("div",j,[P(y,{size:"mini",data:r.tableData,border:"",style:{width:"100%"}},{default:b((()=>[P(m,{prop:"article_title",label:"文章标题"}),P(m,{prop:"category.name",label:"文章分类",width:"80"}),P(m,{label:"操作",width:"84"},{default:b((e=>[P(g,{size:"mini",onClick:a=>u.changeFunc(e.row)},{default:b((()=>[V("选择")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),k("div",M,[P(C,{onSizeChange:u.handleSizeChange,onCurrentChange:u.handleCurrentChange,background:"","current-page":r.curPage,"page-size":r.pageSize,layout:"total, prev, pager, next, jumper",total:r.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}]]),q={class:"marketing-box"},Q={key:0,class:"product"},W={class:"product-content"},X={class:"table-wrap type-table"},Y={key:1,class:"product-list"},B={class:"common-seach-wrap"},E={class:"product-content"},G={class:"table-wrap setlink-product-table"},H={class:"product-info"},J={class:"pic"},K={alt:""},O={class:"info"},R={class:"name text-ellipsis"},Z={class:"red"},ee={class:"pagination"};const ae=h({data:()=>({loading:!0,activeTab:"type",categoryList:[],categoryActive:[],searchForm:{product_name:""},tableData:[],pageSize:5,totalDataNumber:0,curPage:1,activePage:null}),created(){this.getCategory()},watch:{activeTab:function(e,a){e!=a&&(this.tableData=[],"type"==e&&this.autoType(),"detail"==e&&this.getData())}},methods:{getCategory(){let e=this;e.loading=!0,T({}).then((a=>{e.categoryList=a.data.list,e.autoType(),e.loading=!1})).catch((a=>{e.loading=!1}))},autoType(e){if(e|=0,this.categoryActive=[],this.categoryList.length>0){let a=this.categoryList[e];this.categoryActive.push(a.category_id),a.child&&void 0!==a.child&&a.child.length>0?(this.categoryActive.push(a.child[0].category_id),this.changeFunc(a.child[0])):(e++,this.autoType(e))}},changeCategory(e){let a=this.$refs.cascader.getCheckedNodes();this.changeFunc(a[0].data)},handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.pageSize=e,this.curPage=0,this.getData()},getData(){let e=this;e.loading=!0;let a={};a.page=e.curPage,a.list_rows=e.pageSize,a.product_name=e.searchForm.product_name,x(a).then((a=>{e.loading=!1,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total,1==e.curPage&&e.tableData.length>0&&e.changeFunc(e.tableData[0])})).catch((a=>{e.loading=!1}))},onSubmit(){this.curPage=0,this.getData()},changeFunc(e){let a={};"type"==this.activeTab&&(a.name=e.name,a.url="pages/product/list/list?category_id="+e.category_id,a.type="商品分类"),"detail"==this.activeTab&&(a.name=e.product_name,a.url="pages/product/detail/detail?product_id="+e.product_id,a.type="商品详情"),this.$emit("changeData",a)}}},[["render",function(e,a,p,h,m,y){const C=d,D=r,S=u,T=g,x=i,N=l,L=n,$=s,U=c,A=o,j=t,M=F("img-url");return v(),_("div",q,[P(D,{modelValue:m.activeTab,"onUpdate:modelValue":a[0]||(a[0]=e=>m.activeTab=e)},{default:b((()=>[P(C,{label:"分类",name:"type"}),P(C,{label:"详情",name:"detail"})])),_:1},8,["modelValue"]),"type"==m.activeTab?(v(),_("div",Q,[f((v(),_("div",W,[k("div",X,[P(S,{class:"ww100",ref:"cascader",modelValue:m.categoryActive,"onUpdate:modelValue":a[1]||(a[1]=e=>m.categoryActive=e),options:m.categoryList,props:{children:"child",value:"category_id",label:"name"},onChange:y.changeCategory},null,8,["modelValue","options","onChange"])])])),[[j,m.loading]])])):z("",!0),"detail"==m.activeTab?f((v(),_("div",Y,[k("div",B,[P(L,{size:"small",inline:!0,model:m.searchForm,class:"demo-form-inline"},{default:b((()=>[P(x,{label:"商品名称"},{default:b((()=>[P(T,{size:"small",modelValue:m.searchForm.product_name,"onUpdate:modelValue":a[2]||(a[2]=e=>m.searchForm.product_name=e),placeholder:"请输入商品名称"},null,8,["modelValue"])])),_:1}),P(x,null,{default:b((()=>[P(N,{size:"small",icon:"Search",onClick:y.onSubmit},{default:b((()=>[V("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),k("div",E,[k("div",G,[P(U,{size:"mini",data:m.tableData,border:"",style:{width:"100%"}},{default:b((()=>[P($,{prop:"product_name",label:"产品"},{default:b((e=>[k("div",H,[k("div",J,[f(k("img",K,null,512),[[M,e.row.image[0].file_path]])]),k("div",O,[k("div",R,w(e.row.product_name),1)])])])),_:1}),P($,{prop:"product_price",label:"价格",width:"100"},{default:b((e=>[k("span",Z,w(e.row.product_price),1)])),_:1}),P($,{label:"操作",width:"80"},{default:b((e=>[P(N,{size:"mini",onClick:a=>y.changeFunc(e.row)},{default:b((()=>[V("选择")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])]),k("div",ee,[P(A,{onSizeChange:y.handleSizeChange,onCurrentChange:y.handleCurrentChange,background:"","current-page":m.curPage,"page-size":m.pageSize,layout:"total, prev, pager, next, jumper",total:m.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])),[[j,m.loading]]):z("",!0)])}],["__scopeId","data-v-cca2ea37"]]),te={class:"marketing-box"};const le=h({data:()=>({activeTab:"signin",pages:[],activePage:null,signinList:[{id:0,url:"pagesPlus/signin/signin",name:"签到",type:"营销"}],tableList:[],previewList:[{id:0,url:"pagesPlus/preview/list",name:"预告",type:"营销"}]}),watch:{activeTab:function(e,a){let t=this;t.pages=[],e!=a&&("signin"==e&&(t.pages=t.signinList),t.autoSend())}},created(){this.pages=this.signinList,this.autoSend()},methods:{autoSend(){this.pages.length>0&&(this.activePage=this.pages[0],this.changeFunc())},changeFunc(e){this.$emit("changeData",this.activePage)}}},[["render",function(t,l,i,n,s,c){const o=d,u=r,g=e,p=a;return v(),_("div",te,[P(u,{modelValue:s.activeTab,"onUpdate:modelValue":l[0]||(l[0]=e=>s.activeTab=e)},{default:b((()=>[P(o,{label:"签到",name:"signin"})])),_:1},8,["modelValue"]),P(p,{modelValue:s.activePage,"onUpdate:modelValue":l[1]||(l[1]=e=>s.activePage=e),placeholder:"请选择",class:"percent-w100",onChange:c.changeFunc,"value-key":"id"},{default:b((()=>[(v(!0),_(C,null,D(s.pages,((e,a)=>(v(),y(g,{key:a,label:e.name,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])}]]);const ie=h({data:()=>({pages:[{url:"pages/index/index",name:"首页",type:"页面"},{url:"pages/product/category",name:"分类",type:"页面"},{url:"pages/article/list/list",name:"文章首页",type:"页面"},{url:"pages/shop/shop_list",name:"商户",type:"页面"},{url:"pages/cart/cart",name:"购物车",type:"页面"},{url:"pages/user/index/index",name:"我的",type:"页面"}],activePage:"首页"}),created(){this.changeFunc(this.pages[0])},methods:{changeFunc(e){this.$emit("changeData",e)}}},[["render",function(t,l,i,n,s,c){const o=e,d=a;return v(),y(d,{modelValue:s.activePage,"onUpdate:modelValue":l[0]||(l[0]=e=>s.activePage=e),placeholder:"请选择",class:"percent-w100",onChange:c.changeFunc,"value-key":"url"},{default:b((()=>[(v(!0),_(C,null,D(s.pages,(e=>(v(),y(o,{key:e.url,"value-key":e.name,label:e.name,value:e},null,8,["value-key","label","value"])))),128))])),_:1},8,["modelValue","onChange"])}]]),ne={components:{Menu:N,Pages:ie,Marketing:le,Products:ae,Article:I,DiyPage:L},data:()=>({dialogVisible:!0,activeData:null,activeName:"pages"}),props:["is_linkset"],created(){this.dialogVisible=this.is_linkset},methods:{dialogFormVisible(e){e?this.$emit("closeDialog",this.activeData):this.$emit("closeDialog",null)},activeDataFunc(e){this.activeData=e}}},se={class:"dialog-footer d-b-c"},ce={class:"flex-1"},oe={key:0,class:"d-s-s d-c tl"},de={class:"text-ellipsis setlink-set-link"},re=k("span",null,"当前链接：",-1),ue={class:"gray9"},ge=k("span",{class:"p-0-10 gray"},"/",-1),pe={class:"blue"},he={class:"text-ellipsis gray",style:{"font-size":"10px"}},me={key:1,class:"tl"},ve={class:"setlink-footer-btn"};const ye=h(ne,[["render",function(e,a,t,i,n,s){const c=ie,o=d,u=le,g=ae,h=I,m=L,C=N,D=r,f=l,F=p;return v(),y(F,{title:"超链接设置",modelValue:n.dialogVisible,"onUpdate:modelValue":a[3]||(a[3]=e=>n.dialogVisible=e),onClose:s.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:b((()=>[k("div",se,[k("div",ce,[null!=n.activeData?(v(),_("div",oe,[k("p",de,[re,k("span",ue,w(n.activeData.type),1),ge,k("span",pe,w(n.activeData.name),1)]),k("p",he,w(n.activeData.url),1)])):(v(),_("div",me," 暂无 "))]),k("div",ve,[P(f,{size:"small",onClick:a[1]||(a[1]=e=>s.dialogFormVisible(!1))},{default:b((()=>[V("取 消")])),_:1}),P(f,{size:"small",type:"primary",onClick:a[2]||(a[2]=e=>s.dialogFormVisible(!0))},{default:b((()=>[V("确 定")])),_:1})])])])),default:b((()=>[P(D,{type:"border-card",modelValue:n.activeName,"onUpdate:modelValue":a[0]||(a[0]=e=>n.activeName=e)},{default:b((()=>[P(o,{label:"页面",name:"pages"},{default:b((()=>["pages"==n.activeName?(v(),y(c,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):z("",!0)])),_:1}),P(o,{label:"营销",name:"market"},{default:b((()=>["market"==n.activeName?(v(),y(u,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):z("",!0)])),_:1}),P(o,{label:"产品",name:"product"},{default:b((()=>["product"==n.activeName?(v(),y(g,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):z("",!0)])),_:1}),P(o,{label:"文章",name:"Article"},{default:b((()=>["Article"==n.activeName?(v(),y(h,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):z("",!0)])),_:1}),P(o,{label:"自定义",name:"diypage"},{default:b((()=>["diypage"==n.activeName?(v(),y(m,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):z("",!0)])),_:1}),P(o,{label:"我的菜单",name:"menu"},{default:b((()=>["menu"==n.activeName?(v(),y(C,{key:0,onChangeData:s.activeDataFunc},null,8,["onChangeData"])):z("",!0)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","onClose"])}]]);export{le as M,ye as _,ie as a,I as b,L as c};
