import{E as a,h as e,f as s,g as l,e as d,i as t,A as r,d as i,c as o,v as n}from"./element-plus-78c440b2.js";import{r as p,p as c,f as u}from"./order-b217683b.js";import{_ as m}from"./index-0e3e5afc.js";import{ap as _,$ as f,o as y,c as v,a as g,P as b,S as h,W as j,X as k,Q as x,a9 as V,Y as w,T as z}from"./@vue-76da2f05.js";import"./@vueuse-90d34f35.js";import"./lodash-es-3f297d7c.js";import"./async-validator-cf877c1f.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9f5f6982.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-590ae0e4.js";import"./pinia-58dabe83.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./vue-ueditor-wrap-cd890801.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";const D={data:()=>({tableData:{},detail:{is_agree:{},type:{},status:{},order_master:{},user:{},orderproduct:{},express:{},address:{},image:[],sendexpress:{}},order:{},address:{},form:{is_agree:10,address_id:"",plate_desc:"",refund_money:0},money:{refund_money:0},order_refund_id:0,loading:!0}),created(){this.getData()},methods:{getData(){let a=this,e=this.$route.query.order_refund_id;p({order_refund_id:e}).then((e=>{a.detail=e.data.detail,a.order=e.data.order,a.address=e.data.address,a.loading=!1})).catch((a=>{}))},gotoPage(a){this.$router.push({path:"/order/order/detail",query:{order_id:a.order_id}})},onSubmit(e){let s=this.form,l=e;c({is_agree:s.is_agree,address_id:s.address_id,plate_desc:s.plate_desc,order_refund_id:l,refund_money:s.refund_money}).then((e=>{a({message:"恭喜你，操作成功",type:"success"}),this.getData()})).catch((a=>{}))},refundMoney(e){let s=this.money;u({refund_money:s.refund_money,order_refund_id:e}).then((e=>{a({message:"恭喜你，操作成功",type:"success"}),this.getData()})).catch((a=>{}))},cancelFunc(){this.$router.back(-1)}}},q={class:"user pb50"},C={class:"product-content"},$=g("div",{class:"common-form"},"售后单信息",-1),P={class:"refund-detail-content"},S={class:"pb16"},U=g("span",{class:"gray9"},"订单号：",-1),F={class:"pb16"},A=g("span",{class:"gray9"},"买家：",-1),E={class:"pb16"},K=g("span",{class:"gray9"},"售后类型：",-1),M={class:"pb16"},N=g("span",{class:"gray9"},"处理状态：",-1),Q={class:"pb16"},T=g("div",{class:"common-form"},"商户信息",-1),W={class:"refund-detail-content"},X={class:"pb16"},Y=g("span",{class:"gray9"},"商户名称：",-1),B=g("div",{class:"common-form"},"售后商品信息",-1),G={class:"refund-detail-content"},H=g("div",{class:"pb16"},[g("span",{class:"gray9"},"商品编码：")],-1),I={class:"pb16"},J=g("span",{class:"gray9"},"商品名称：",-1),L={class:"pb16"},O=g("span",{class:"gray9"},"重量(Kg)：",-1),R={class:"pb16"},Z=g("span",{class:"gray9"},"单价：",-1),aa={class:"pb16"},ea=g("span",{class:"gray9"},"购买数量：",-1),sa={class:"pb16"},la=g("span",{class:"gray9"},"付款价：",-1),da={class:"apply-reason-box"},ta=g("div",{class:"common-form"},"用户申请原因",-1),ra={class:"apply-reason"},ia={key:0,class:"d-s-s mt10"},oa={alt:"",width:"60"},na={key:0},pa=g("div",{class:"common-form mt16"},"退货地址",-1),ca={class:"pb16"},ua=g("span",{class:"gray9"},"收货人：",-1),ma={class:"pb16"},_a=g("span",{class:"gray9"},"收货电话：",-1),fa={class:"pb16"},ya=g("span",{class:"gray9"},"收货地址：",-1),va={key:1},ga=g("div",{class:"common-form"},"商家拒绝原因",-1),ba={class:"apply-reason"},ha={key:2},ja=g("div",{class:"common-form"},"平台拒绝原因",-1),ka={class:"apply-reason"},xa={key:3},Va=g("div",{class:"common-form mt16"},"用户发货信息",-1),wa={class:"pb16"},za=g("span",{class:"gray9"},"物流公司：",-1),Da={class:"pb16"},qa=g("span",{class:"gray9"},"物流单号：",-1),Ca=g("div",{class:"pb16"},[g("span",{class:"gray9"},"用户发货状态："),j(" 已发货 ")],-1),$a={class:"pb16"},Pa=g("span",{class:"gray9"},"发货时间：",-1),Sa={class:"pb16"},Ua=g("span",{class:"gray9"},"商家收货状态：",-1),Fa=g("div",{class:"common-form"},"商家审核",-1),Aa={class:"refund-detail-content"},Ea={class:"pb16"},Ka=g("span",{class:"gray9"},"审核状态：",-1),Ma={class:"pb16"},Na=g("span",{class:"gray9"},"退款金额：",-1),Qa={key:4},Ta=g("div",{class:"common-form mt16"},"平台审核",-1),Wa={class:"orange"},Xa={key:5},Ya={key:0},Ba=g("div",{class:"common-form mt16"},"平台发货信息",-1),Ga={class:"pb16"},Ha=g("span",{class:"gray9"},"物流公司：",-1),Ia={class:"pb16"},Ja=g("span",{class:"gray9"},"物流单号：",-1),La={class:"pb16"},Oa=g("span",{class:"gray9"},"发货时间：",-1),Ra={class:"common-button-wrapper"};const Za=m(D,[["render",function(a,p,c,u,m,D){const Za=e,ae=s,ee=l,se=d,le=t,de=r,te=i,re=o,ie=_("img-url"),oe=n;return f((y(),v("div",q,[g("div",C,[$,g("div",P,[b(ee,null,{default:h((()=>[b(Za,{span:5},{default:h((()=>[g("div",S,[U,j(" "+k(m.detail.order_master.order_no),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",F,[A,j(" "+k(m.detail.user.nickName),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",E,[K,j(" "+k(m.detail.type.text),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",M,[N,j(" "+k(m.detail.plate_status.text),1)])])),_:1}),b(Za,{span:4},{default:h((()=>[g("div",Q,[b(ae,{size:"mini",href:"/",target:"_blank",onClick:p[0]||(p[0]=a=>D.gotoPage(m.detail))},{default:h((()=>[j("订单详情")])),_:1})])])),_:1})])),_:1})]),T,g("div",W,[b(ee,null,{default:h((()=>[b(Za,{span:5},{default:h((()=>[g("div",X,[Y,j(" "+k(m.order.supplier.name),1)])])),_:1})])),_:1})]),B,g("div",G,[b(ee,null,{default:h((()=>[b(Za,{span:5},{default:h((()=>[H])),_:1}),b(Za,{span:19},{default:h((()=>[g("div",I,[J,j(" "+k(m.detail.orderproduct.product_name),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",L,[O,j(" "+k(m.detail.orderproduct.product_weight),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",R,[Z,j(" "+k(m.detail.orderproduct.line_price),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",aa,[ea,j(" "+k(m.detail.orderproduct.total_num),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",sa,[la,j(" "+k(m.detail.orderproduct.total_pay_price),1)])])),_:1})])),_:1})]),g("div",da,[ta,g("div",ra,k(m.detail.apply_desc),1),m.detail.image.length>0?(y(),v("div",ia,[(y(!0),v(x,null,V(m.detail.image,((a,e)=>(y(),v("div",{class:"pic",key:e},[f(g("img",oa,null,512),[[ie,a.file_path]])])))),128))])):w("",!0)]),10==m.detail.is_agree.value&&m.detail.address?(y(),v("div",na,[pa,b(ee,null,{default:h((()=>[b(Za,{span:5},{default:h((()=>[g("div",ca,[ua,j(" "+k(m.detail.address.name),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",ma,[_a,j(" "+k(m.detail.address.phone),1)])])),_:1}),b(Za,{span:14},{default:h((()=>[g("div",fa,[ya,j(" "+k(m.detail.address.detail),1)])])),_:1})])),_:1})])):w("",!0),20==m.detail.is_agree.value?(y(),v("div",va,[ga,g("div",ba,k(m.detail.refuse_desc),1)])):w("",!0),30==m.detail.plate_status.value?(y(),v("div",ha,[ja,g("div",ka,k(m.detail.plate_desc),1)])):w("",!0),10==m.detail.type.value&&10==m.detail.is_agree.value&&1==m.detail.is_user_send?(y(),v("div",xa,[Va,b(ee,null,{default:h((()=>[b(Za,{span:5},{default:h((()=>[g("div",wa,[za,j(" "+k(m.detail.express.express_name),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",Da,[qa,j(" "+k(m.detail.express_no),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[Ca])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",$a,[Pa,j(" "+k(m.detail.send_time),1)])])),_:1}),b(Za,{span:4},{default:h((()=>[g("div",Sa,[Ua,1==m.detail.is_receipt?(y(),v(x,{key:0},[j(" 已收货 ")],64)):(y(),v(x,{key:1},[j(" 待收货 ")],64))])])),_:1})])),_:1})])):w("",!0),Fa,g("div",Aa,[b(ee,null,{default:h((()=>[b(Za,{span:5},{default:h((()=>[g("div",Ea,[Ka,j(" "+k(m.detail.status.text),1)])])),_:1}),10==m.detail.is_agree.value&&m.detail.refund_money>0?(y(),z(Za,{key:0,span:5},{default:h((()=>[g("div",Ma,[Na,j(" "+k(m.detail.refund_money),1)])])),_:1})):w("",!0)])),_:1})]),10==m.detail.plate_status.value?(y(),v("div",Qa,[Ta,b(re,{size:"small",ref:"form",model:m.form,"label-width":"80px"},{default:h((()=>[b(se,{label:"售后类型"},{default:h((()=>[g("span",Wa,k(m.detail.type.text),1)])),_:1}),b(se,{label:"审核状态"},{default:h((()=>[b(de,{modelValue:m.form.is_agree,"onUpdate:modelValue":p[1]||(p[1]=a=>m.form.is_agree=a)},{default:h((()=>[b(le,{label:10},{default:h((()=>[j("直接退款")])),_:1}),b(le,{label:20},{default:h((()=>[j("拒绝售后")])),_:1})])),_:1},8,["modelValue"])])),_:1}),b(se,{label:"退款金额"},{default:h((()=>[b(te,{modelValue:m.form.refund_money,"onUpdate:modelValue":p[2]||(p[2]=a=>m.form.refund_money=a)},null,8,["modelValue"]),g("p",null,"请输入退款金额，最多"+k(m.detail.orderproduct.total_pay_price)+" 元。注：该操作将执行订单原路退款 并关闭当前售后单，请确认并填写退款的金额（不能大于订单实付款）",1)])),_:1}),20==m.form.is_agree?(y(),z(se,{key:0,label:"拒绝原因"},{default:h((()=>[b(te,{type:"textarea",modelValue:m.form.plate_desc,"onUpdate:modelValue":p[3]||(p[3]=a=>m.form.plate_desc=a),class:"max-w460"},null,8,["modelValue"])])),_:1})):w("",!0)])),_:1},8,["model"])])):w("",!0),20==m.detail.type.value&&10==m.detail.is_agree.value&&1==m.detail.is_user_send?(y(),v("div",Xa,[1==m.detail.is_plate_send?(y(),v("div",Ya,[Ba,b(ee,null,{default:h((()=>[b(Za,{span:5},{default:h((()=>[g("div",Ga,[Ha,j(" "+k(m.detail.sendexpress.express_name),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",Ia,[Ja,j(" "+k(m.detail.send_express_no),1)])])),_:1}),b(Za,{span:5},{default:h((()=>[g("div",La,[Oa,j(" "+k(m.detail.deliver_time),1)])])),_:1})])),_:1})])):w("",!0)])):w("",!0)]),g("div",Ra,[b(ae,{size:"small",type:"info",onClick:D.cancelFunc},{default:h((()=>[j("取消 / 返回上一页")])),_:1},8,["onClick"]),10==m.detail.plate_status.value?(y(),z(ae,{key:0,size:"small",type:"primary",onClick:p[4]||(p[4]=a=>D.onSubmit(m.detail.order_refund_id))},{default:h((()=>[j("确认审核")])),_:1})):w("",!0)])])),[[oe,m.loading]])}]]);export{Za as default};
