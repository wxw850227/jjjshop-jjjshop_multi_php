import{_ as e}from"./Upload-4b5e65e6.js";import{E as a,d as l,e as o,j as s,k as t,i as m,A as r,O as d,f as i,c as u}from"./element-plus-78c440b2.js";import{K as p,L as n}from"./setting-c6db5bb6.js";import{_ as c,f}from"./index-0e3e5afc.js";import{o as _,c as h,P as y,S as g,Q as v,a9 as V,T as b,W as j,X as k,a as w,ah as x,Y as U}from"./@vue-76da2f05.js";import"./@vueuse-90d34f35.js";import"./lodash-es-3f297d7c.js";import"./async-validator-cf877c1f.js";import"./dayjs-13b7e569.js";import"./call-bind-6a1b7bd0.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-9f5f6982.js";import"./@popperjs-b78c3215.js";import"./escape-html-1935ddb3.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-590ae0e4.js";import"./pinia-58dabe83.js";import"./vue-demi-71ba0ef2.js";import"./axios-85bcd05e.js";import"./vue-ueditor-wrap-cd890801.js";import"./qs-74887072.js";import"./side-channel-9348fcaa.js";import"./object-inspect-c71aff05.js";const C={components:{Upload:e},data:()=>({loading:!1,form:{name:"",customer:"",key:"",supplier_cash:"",operate_type:"",commission_rate:"",sms_open:"",supplier_logo:"",checkedCities:[],edit_audit:1,add_audit:1,is_get_log:0,service:"",privacy:"",store_open:"",is_send_wx:0},all_type:[],type:[],isupload:!1}),created(){this.getParams()},methods:{getParams(){let e=this;p({}).then((a=>{let l=a.data.vars.values;e.form=f(e.form,l),e.form.checkedCities=a.data.vars.values.delivery_type;for(let o=0;o<e.form.checkedCities.length;o++)e.form.checkedCities[o]=parseInt(e.form.checkedCities[o]);e.type=l.delivery_type,e.form.customer=l.kuaidi100.customer,e.form.key=l.kuaidi100.key,e.form.service=l.policy.service,e.form.privacy=l.policy.privacy,e.all_type=a.data.all_type,e.loading=!1})).catch((e=>{}))},onSubmit(){let e=this,l=this.form;l.checkedCities.length<1?a({message:"配送方式至少选择一种！",type:"warning"}):(e.loading=!0,n(l).then((l=>{e.loading=!1,a({message:"恭喜你，商城设置成功",type:"success"}),e.$router.push("/setting/store/index")})).catch((a=>{e.loading=!1})),e.$refs.form.validate((e=>{})))},renumber(e){var a=window.event?e.keyCode:e.which;189!=a&&190!=a&&110!=a&&109!=a||(this.$message.warning("禁止输入小数和负数"),e.target.value="")},chooseImg(e){this.type=e,this.isupload=!0},returnImgsFunc(e){this.isupload=!1,null!=e&&e.length>0&&("logo"==this.type?this.form.supplier_logo=e[0].file_path:"image"==this.type&&(this.form.supplier_image=e[0].file_path))}}},q={class:"product-add"},I=w("div",{class:"common-form"},"商城设置",-1),K=w("div",{class:"tips"},"注：配送方式至少选择一个",-1),P=w("div",{class:"common-form"},"小程序设置",-1),S=w("div",{class:"tips"},"后台发货后自动向小程序发货",-1),$=w("div",{class:"tips"},"主要用于微信小程序过审隐藏",-1),z=w("div",{class:"common-form"},"日志记录",-1),F=w("div",{class:"tips"},"如果记录，日志量会有点大",-1),R=w("div",{class:"common-form"},"物流查询api",-1),A={class:"tips"},E=w("div",{class:"common-form"},"平台运营设置",-1),L=w("div",{class:"common-form"},"政策协议",-1),O=w("div",{class:"tips"},"进入app和登录、注册页面显示",-1),Q={class:"common-button-wrapper"};const T=c(C,[["render",function(a,p,n,c,f,C){const T=l,W=o,X=s,Y=t,B=m,D=r,G=d,H=i,J=u,M=e;return _(),h("div",q,[y(J,{size:"small",ref:"form",model:f.form,"label-width":"150px"},{default:g((()=>[I,y(W,{label:"商城名称",rules:[{required:!0,message:" "}],prop:"name"},{default:g((()=>[y(T,{modelValue:f.form.name,"onUpdate:modelValue":p[0]||(p[0]=e=>f.form.name=e),placeholder:"商城名称",class:"max-w460"},null,8,["modelValue"])])),_:1}),y(W,{label:"配送方式"},{default:g((()=>[y(Y,{modelValue:f.form.checkedCities,"onUpdate:modelValue":p[1]||(p[1]=e=>f.form.checkedCities=e)},{default:g((()=>[(_(!0),h(v,null,V(f.all_type,((e,a)=>(_(),b(X,{label:e.value,key:a},{default:g((()=>[j(k(e.name),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"]),K])),_:1}),P,y(W,{label:"小程序发货",prop:"is_send_wx"},{default:g((()=>[y(X,{modelValue:f.form.is_send_wx,"onUpdate:modelValue":p[2]||(p[2]=e=>f.form.is_send_wx=e)},{default:g((()=>[j("向小程序发货")])),_:1},8,["modelValue"]),S])),_:1}),y(W,{label:"是否显示商户信息"},{default:g((()=>[y(D,{modelValue:f.form.store_open,"onUpdate:modelValue":p[3]||(p[3]=e=>f.form.store_open=e)},{default:g((()=>[y(B,{label:"1"},{default:g((()=>[j("显示")])),_:1}),y(B,{label:"0"},{default:g((()=>[j("关闭")])),_:1})])),_:1},8,["modelValue"]),$])),_:1}),z,y(W,{label:"是否记录查询日志",prop:"customer"},{default:g((()=>[y(X,{modelValue:f.form.is_get_log,"onUpdate:modelValue":p[4]||(p[4]=e=>f.form.is_get_log=e)},{default:g((()=>[j("是否记录查询日志")])),_:1},8,["modelValue"]),F])),_:1}),R,y(W,{label:"快递100 Customer",rules:[{required:!0,message:" "}],prop:"customer"},{default:g((()=>[y(T,{modelValue:f.form.customer,"onUpdate:modelValue":p[5]||(p[5]=e=>f.form.customer=e),placeholder:"",class:"max-w460"},null,8,["modelValue"]),w("div",A,[j(" 用于查询物流信息,"),y(G,{underline:!1,href:"https://www.kuaidi100.com/openapi/",target:"_blank",type:"primary"},{default:g((()=>[j("快递100申请")])),_:1})])])),_:1}),y(W,{label:"快递100 Key",rules:[{required:!0,message:" "}],prop:"key"},{default:g((()=>[y(T,{modelValue:f.form.key,"onUpdate:modelValue":p[6]||(p[6]=e=>f.form.key=e),placeholder:"",class:"max-w460"},null,8,["modelValue"])])),_:1}),E,y(W,{label:"抽成百分比(%)",rules:[{required:!0,message:" "}],prop:"commission_rate"},{default:g((()=>[y(T,{modelValue:f.form.commission_rate,"onUpdate:modelValue":p[7]||(p[7]=e=>f.form.commission_rate=e),placeholder:"抽查比例",class:"max-w460",type:"number",onKeyup:p[8]||(p[8]=x((e=>C.renumber(e)),["native"]))},null,8,["modelValue"])])),_:1}),y(W,{label:"商品新增是否审核"},{default:g((()=>[w("div",null,[y(B,{modelValue:f.form.add_audit,"onUpdate:modelValue":p[9]||(p[9]=e=>f.form.add_audit=e),label:"1"},{default:g((()=>[j("是")])),_:1},8,["modelValue"]),y(B,{modelValue:f.form.add_audit,"onUpdate:modelValue":p[10]||(p[10]=e=>f.form.add_audit=e),label:"0"},{default:g((()=>[j("否")])),_:1},8,["modelValue"])])])),_:1}),y(W,{label:"商品修改是否审核"},{default:g((()=>[w("div",null,[y(B,{modelValue:f.form.edit_audit,"onUpdate:modelValue":p[11]||(p[11]=e=>f.form.edit_audit=e),label:"1"},{default:g((()=>[j("是")])),_:1},8,["modelValue"]),y(B,{modelValue:f.form.edit_audit,"onUpdate:modelValue":p[12]||(p[12]=e=>f.form.edit_audit=e),label:"0"},{default:g((()=>[j("否")])),_:1},8,["modelValue"])])])),_:1}),L,y(W,{label:"服务协议",rules:[{required:!0,message:" "}],prop:"service"},{default:g((()=>[y(T,{modelValue:f.form.service,"onUpdate:modelValue":p[13]||(p[13]=e=>f.form.service=e),placeholder:"",class:"max-w460"},null,8,["modelValue"]),O])),_:1}),y(W,{label:"隐私政策",rules:[{required:!0,message:" "}],prop:"privacy"},{default:g((()=>[y(T,{modelValue:f.form.privacy,"onUpdate:modelValue":p[14]||(p[14]=e=>f.form.privacy=e),placeholder:"",class:"max-w460"},null,8,["modelValue"])])),_:1}),w("div",Q,[y(H,{type:"primary",onClick:C.onSubmit,loading:f.loading},{default:g((()=>[j("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"]),f.isupload?(_(),b(M,{key:0,isupload:f.isupload,type:f.type,config:{total:3},onReturnImgs:C.returnImgsFunc},null,8,["isupload","type","onReturnImgs"])):U("",!0)])}]]);export{T as default};
